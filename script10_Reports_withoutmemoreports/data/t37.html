DATE_RANGE_ENUM={CUSTOM:"CUSTOM",CUMULATIVE:"CUMULATIVE"};DATE_RANGE_TYPE={SUBMISSION_DATE:"submissionDate"};DATE_DISPLAY="MM/DD/YYYY";DATE_FMT_TZ="YYYY-MM-DD";
$(document).ready(function(){function m(a,b){var c=null,d=null;$("#dateRangeStartAbsolute").val()&&(c=$("#dateRangeStartAbsolute").val());$("#dateRangeStartAbsolute").val()&&(d=$("#dateRangeStartAbsolute").val());$("#datePickerFromDiv").datepicker({allowPastDates:!0,date:c,formatDate:function(a){return setDefaultDisplayDateFormat(a)}}).on("changed.fu.datepicker",function(a,b){c=b;e()}).click(function(a){c=$("#datePickerFromDiv").datepicker("getDate");e()});$("#datePickerToDiv").datepicker({allowPastDates:!0,
date:d,formatDate:function(a){return setDefaultDisplayDateFormat(a)}}).on("changed.fu.datepicker",function(a,c){d=c;e()}).click(function(){d=$("#datePickerToDiv").datepicker("getDate");e()});var e=function(){$("#dateRangeStartAbsolute").val(moment(c).tz(userTimeZone).format(DATE_FMT_TZ));$("#dateRangeEndAbsolute").val(moment(d).tz(userTimeZone).format(DATE_FMT_TZ))};e()}function f(a,b){var c=a.getElementById("dateRangeEnum").value;c===DATE_RANGE_ENUM.CUSTOM?(m(a,b),$("#dateRangeSelector").show()):
c===DATE_RANGE_ENUM.CUMULATIVE&&$("#dateRangeSelector").hide()}function g(){var a=$("#"+$(this).attr("for"));a.toggle();a.is(":visible")?$(this).text(LABELS.labelHideAdavncedOptions):$(this).text(LABELS.labelShowAdavncedOptions)}function h(){null!=document.getElementById("dateRangeType")&&document.getElementById("dateRangeType").value===DATE_RANGE_TYPE.SUBMISSION_DATE?($("#evaluateDateAs").val($("#evaluateDateAsSubmissionDate").val()),k($("#evaluateDateAs").val()),$("#evaluateDateAsDiv").hide(),$("#evaluateDateAsSubmissionDateDiv").show(),
$("#asOfVersionDatePicker").hide()):($("#evaluateDateAs").val($("#evaluateDateAsNonSubmission").val()),k($("#evaluateDateAs").val()),$("#evaluateDateAsDiv").show(),$("#evaluateDateAsSubmissionDateDiv").hide())}function k(a){"undefined"!=typeof a&&null!=a&&(-1!=a.toLowerCase().indexOf("latest")?$("#includeLockedVersion").removeAttr("disabled"):($("#includeLockedVersion").prop("checked",!0),$("#includeLockedVersion").attr("disabled",!0)))}function l(){var a=$("#productSelection").val();if(a&&(a=JSON.parse(a),
a[1][0]))var b=a[1][0].name;b&&(b={substanceName:b,isAdhocRun:$("#adhocRun").is(":checked")},$.ajax({type:"POST",url:substanceFrequencyPropertiesUrl,data:b,success:function(a){a.miningFrequency&&($("#substanceFrequency").html(a.miningFrequency+" Frequency"),$("#frequency").val(a.frequencyName));if(a.probableStartDate&&a.probableEndDate){var b='<option value="null">--Select One--</option>';a.probableStartDate.forEach(function(a){b+='<option value="'+a+'">'+a+"</option>"});var e=$("#startDateAbsoluteCustomFreq").val();
$("#fromDate").html(b);$("#fromDate").val(e);var f='<option value="null">--Select One--</option>';a.probableEndDate.forEach(function(a){f+='<option value="'+a+'">'+a+"</option>"});a=$("#endDateAbsoluteCustomFreq").val();$("#toDate").html(f);$("#toDate").val(a)}}}))}$("#dateRangeType").select2({placeholder:"Select Date Range type"});$(document).on("change","#dateRangeType",function(){h()});$("#asOfVersionDateValue").val(moment(null).format(DATE_FMT_TZ));(function(a){var b=$(a).find(".dateRange");_.each(b,
function(c,d){d<b.length-1&&f(a,parseInt(d))})})(document);h();$(document).on("change",".dateRangeEnumClass",function(){var a=this.id.replace(/[^0-9\.]+/g,"");f(document,parseInt(a))});$(".glyphicon-calendar").on("click",function(){var a=$(document).find(".fromDateChanged");_.each(a,function(b,c){c<a.length-1&&f(document,parseInt(c))})});$("#adhocRun").change(function(){$(this).is(":checked")?($("#substanceFrequency").hide(),$("#toDate").attr("disabled",!1),$("#priority").attr("disabled",!0),$("#myScheduler :input").attr("disabled",
!0)):($("#substanceFrequency").show(),$("#toDate").attr("disabled",!0),$("#priority").attr("disabled",!1),$("#myScheduler :input").attr("disabled",!1));l()});$("#fromDate").change(function(){$("#toDate").get(0).selectedIndex=$("#fromDate :selected").index();$("#toDate> option").each(function(){this.index<$("#fromDate :selected").index()?$(this).attr("disabled",!0):$(this).attr("disabled",!1)})});(function(){$(".showHeaderFooterArea").on("click",g);$(".showAdvancedOption").on("click",g);$("#adhocRun").trigger("change");
"true"!==$("#disableOldDictionaryInit").val()&&($(".addProductValues").click(function(){$(".addProductValues").prop("disabled",!0)}),$(".clearProductValues").click(function(){$(".addProductValues").prop("disabled",!1)}),$(".addAllProducts").click(function(){"undefined"!==typeof pageName&&"Reporting"===pageName||l()}));$(".dateRangeEnumClass").trigger("change")})()});