var DEFAULT_DATE_TIME_DISPLAY_FORMAT="DD-MMM-YYYY hh:mm A",DEFAULT_DATE_DISPLAY_FORMAT="DD-MMM-YYYY",DEFAULT_DATE_FORMAT="DD-MMM-YYYY",DEFAULT_DATA_ANALYSIS_DATE_FORMAT="MM/DD/YYYY",SESSION_TIME_OUT="sessionTimeOut",MULTIPLE_AJAX_SEPARATOR="@!",JAPANESE_LOCALE="ja",CUMMULATIVE_START_DATE="01/01/1900",DEFAULT_AUTO_HIDE_DELAY_TIME=1E4,ANALYSIS_REPORT_GENERATED="Analysis File Generated",REPORT_GENERATED="Report Generated",PR_Calendar="PR_Calendar",REPOERT_REQUEST="REPOERT_REQUEST",PERIODIC_REPORT="PERIODIC_REPORT",
NOTIFICATION_QUEUE="/topic/",EVDAS_BUSNSINESS_RULE_ENUM={RELTV_ROR_PAED_VS_OTHR:"RELTV_ROR_PAED_VS_OTHR",EVDAS_SDR_PAED:"EVDAS_SDR_PAED",RELTV_ROR_GERTR_VS_OTHR:"RELTV_ROR_GERTR_VS_OTHR",EVDAS_SDR_GERTR:"EVDAS_SDR_GERTR",TOTAL_SPON_EUROPE:"TOTAL_SPON_EUROPE",TOTAL_SPON_N_AMERICA:"TOTAL_SPON_N_AMERICA",TOTAL_SPON_JAPAN:"TOTAL_SPON_JAPAN",TOTAL_SPON_ASIA:"TOTAL_SPON_ASIA",TOTAL_SPON_REST:"TOTAL_SPON_REST",EVDAS_IME_DME:"EVDAS_IME_DME"},BUSINESS_RULE_ENUM={COUNTS:"COUNTS"},BUSINESS_RULE_FORMAT_CLASS=
{NEW_COUNT_AGG:"NEW_COUNT",CUMM_COUNT_AGG:"CUMM_COUNT"},ATTACHMENT_TYPE_ENUM={ATTACHMENT:"Attachment",REFERENCE:"Reference"},STATUS_ENUM={OPEN:"OPEN",IN_PROGRESS:"IN_PROGRESS",NEED_CLARIFICATION:"NEED_CLARIFICATION",CLOSED:"CLOSED"},EXECUTION_STATUS_ENUM={SCHEDULED:"Scheduled",GENERATING:"Generating",DELIVERING:"Delivering",COMPLETED:"Completed",ERROR:"Error",WARN:"Warn"},ALERT_CONFIG_TYPE={SINGLE_CASE_ALERT:"Single Case Alert",SINGLE_CASE_ALERT_DASHBOARD:"Single Case Alert - Dashboard",AGGREGATE_CASE_ALERT:"Aggregate Case Alert",
AGGREGATE_CASE_ALERT_DASHBOARD:"Aggregate Case Alert - Dashboard",SIGNAL_MANAGEMENT:"Signal Management",ADHOC_ALERT:"Ad-Hoc Alert",LITERATURE_SEARCH_ALERT:"Literature Search Alert",EVDAS_ALERT:"EVDAS Alert",EVDAS_ALERT_DASHBOARD:"EVDAS Alert - Dashboard",TRIGGERED_ALERT:"Triggered Alerts",STATISTICAL_COMPARISON:"Statistical Comparison",EVENT_DETAIL:"Event Detail",QUALTITATIVE_ALERT:"Qualitative Alert",QUANTITATIVE_ALERT:"Quantitative Alert",LITERATURE_ALERT:"Literature Alert"},SIGNAL_CHARTS={AGE_GROUP:"age-grp-over-time-chart",
SERIOUSNESS:"seriousness-over-time-chart",COUNTRY:"country-over-time-chart",GENDER:"gender-over-time-chart",OUTCOME:"outcome-over-time-chart",SERIOUS_PIE_CHART:"seriousness-count-pie-chart",HEAT_MAP:"system-organ-heat-map",ASSESSMENT_DETAILS:"assessmentDetails"},ALERT_CONFIG_TYPE_SHORT={QUALTITATIVE_ALERT:"Qualitative",QUANTITATIVE_ALERT:"Quantitative",LITERATURE_ALERT:"Literature",EVDAS_ALERT:"Evdas",ADHOC_ALERT:"Ad-Hoc"},ALERTS_PREFIX={AGG:"aca_",SCA:"sca_",EV:"eca_",ADHOC:"adhoc_"},ALERT_PREFIX_FILTER=
{AGG:"aca_filterMap_"},APPLICATION_NAME={SIGNAL_MANAGEMENT:"Signal Management",CASE_DETAIL:"Case Detail",EVENT_DETAIL:"Event Detail"},APPLICATION_LABEL={SIGNAL_MANAGEMENT:"Signal Management",EVENT_DETAIL:"Event Detail",CASE_DETAIL:"Case Detail"},ALERT_PREFIX_VIEW={AGG:"aca_viewName_"},CALLING_SCREEN={DASHBOARD:"dashboard",REVIEW:"review",TRIGGERED_ALERTS:"Triggered Alerts",TAGS:"tags"},COUNTS={NEW:"NEW",CUMM:"CUMM"},FLAGS={CUMM_FLAG:"CUMM_FLAG",PEDI_FLAG:"PEDI_FLAG",INTERACTING_FLAG:"INTERACTING_FLAG"},
STRATIFICATION_FIELDS={PRR:"PRR",ROR:"ROR",PRR05:"PRR05",PRR95:"PRR95",ROR05:"ROR05",ROR95:"ROR95",EBGM:"EBGM",EB05:"EB05",EB95:"EB95"},RULE_FLAGS={PVA:"PVA",FAERS:"FAERS",QUALITATIVE:"Qualitative",QUANTITATIVE:"Quantitative",EVDAS:"EVDAS"};ACTION_ITEM_FILTER_ENUM={MY_OPEN:"My Open Action Items",MY_ALL:"My All Action Items",ALL:"All Action Items"};
var ADVANCED_FILTER_FIELDS={ASSIGNED_TO_USER_ID:"assignedTo.id",ASSIGNED_TO_GROUP_ID:"assignedToGroup.id"},UNDEFINED="undefined",ALL="-- All --",PRODUCT_LIST="productList",TOMORROW=new Date((new Date).setDate((new Date).getDate()+1));
$(document).ready(function(){var a=$("textarea");a.attr("maxlength",4E3);a.parent().append('<div class="countBox"></div>');a.on("focus",function(){var a=$(this),c=a.parent().find(".countBox");a.parent().css("position","relative");var f=0;a.keyup(function(){var d=a.val();d.match(/\n/g)&&(f=d.match(/\n/g).length);var e=d.length,g=4E3-(e+f);0>g&&(e+=g,d=d.substring(0,e),a.val(d));c.text(e+f+" / 4000")});c.show();a.focusout(function(){c.hide()})})});"undefined"!==typeof jQuery&&function(a){a("#spinner").ajaxStart(function(){a(this).fadeIn()}).ajaxStop(function(){a(this).fadeOut()})}(jQuery);
function clearFormInputsChangeFlag(a){$(a).find(".changed-input").length&&$.each($(a).find(".changed-input"),function(){$(this).removeClass("changed-input")})}
function checkUserNavigation(){$("form").submit(function(){clearFormInputsChangeFlag($("form"))});$("#mainContent form").not("#userSearchForm").not("#auditLogSearchForm").on("change keyup keydown keypress","input, textarea, select, checkbox, radio",function(a){$(this).hasClass("changed-input")||$(this).addClass("changed-input")});$(window).on("beforeunload",function(a){if($("form .changed-input:visible").length||$(".studyRadio").length&&$(".productRadio").length&&$("form .changed-input").length)return $.i18n._("navigateAwayErrorMessage")})}
function showSpinnerMessage(a){a?$("#"+a).css("display","inline"):$("#spinnerMessage").css("display","inline")}function clearSpinnerMessage(){$("#spinnerMessage").css("display","none")}$.fn.sort_select_box=function(){var a=$("#"+this.attr("id")+" option");a.sort(function(a,c){return a.text>c.text?1:a.text<c.text?-1:0});$(this).empty().append(a);$("#"+this.attr("id")+" option").attr("selected",!1)};function capitalizeFirstLetter(a){return a.charAt(0).toUpperCase()+a.slice(1)}
function resetForm(a){a.find("input:text, input:password, input:file, select, textarea").val("");a.find("input:radio, input:checkbox").removeAttr("checked").removeAttr("selected")}function closeAllCopyPasteModals(){$("div[id^='copyAndPaste']").modal("hide");resetForm($("#importValueSection"));$("#validate-values").attr("disabled","disabled");$("#fileFormatError").hide()}
function closeAllImportValueModal(){var a=$("div[id^='importValueModal'].in");a.modal("hide");a=a.parent().prev(".copyAndPasteModal").find("#importValueSection");resetForm(a);a.find("#validate-values").attr("disabled","disabled")}function closeJustificationModal(){$("div[id^='workflowStatusJustification']").modal("hide");$("#workflowSelect").html("")}
function successNotification(a){$(".alert-success").alert("close");void 0!=a&&""!=a&&$("div.rxmain-container-content").prepend('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+a+"</div>")}
function errorNotification(a){$(".alert-danger").alert("close");void 0!=a&&""!=a&&$("div.rxmain-container-content").prepend('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+a+"</div>")}
function warningNotification(a){$(".alert-warning").alert("close");void 0!=a&&""!=a&&$("div.rxmain-container-content").prepend('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+a+"</div>")}
function bindSelect2WithUrl(a,b,c){b=a.select2({minimumInputLength:0,multiple:!1,placeholder:$.i18n._("selectOne"),allowClear:!0,width:"100%",ajax:{quietMillis:250,dataType:"json",url:b,data:function(a){return{dataSource:$("#selectedDatasource")?$("#selectedDatasource").val():"",term:a.term||"",page:a.page||1,max:30}},processResults:function(a,d){d.page=d.page||1;return{results:a.list,pagination:{more:30*d.page<a.totalCount}}}}});c&&(c=new Option(c.text,c.id,!0,!0),a.append(c).trigger("change.select2"));
return b}
function bindMultipleSelect2WithUrl(a,b,c){return a.select2({minimumInputLength:0,allowClear:c,multiple:!0,separator:MULTIPLE_AJAX_SEPARATOR,closeOnSelect:!1,ajax:{url:b,dataType:"json",quietMillis:250,data:function(a,d){return{term:a,page:d,max:30}},results:function(a,d){return{results:a.items,more:30*d<a.total_count}}},escapeMarkup:function(a){return a},initSelection:function(a,d){a=$(a).val();var b=[];a&&($.each(a.split(MULTIPLE_AJAX_SEPARATOR),function(a,d){b.push({id:d,text:d})}),d(b))}})}
function checkIfSessionTimeOutThenReload(a,b){if(b&&b[SESSION_TIME_OUT])return a?a.stopPropagation():"",alert($.i18n._("sessionTimeOut")),window.location.reload(),!1}function isPositiveInteger(a){return 0===a%1&&0<a}function isEmpty(a){return!a||0===a.length}function isBlank(a){return!a||/^\s*$/.test(a)}
function getReloader(a,b){var c;c=$('<span title="Refresh" class="glyphicon reloaderBtn glyphicon-refresh"></span>');$(a).append(c);void 0!=b&&$(".reloaderBtn").click(function(){$(".reloaderBtn").addClass("glyphicon-refresh-animate");$(b).DataTable().draw()})}function setDefaultDisplayDateFormat(a){return moment(a).utc(a).format(DEFAULT_DATE_DISPLAY_FORMAT)}
function buildReportingDestinationsSelectBox(a,b,c,f){a=bindMultipleSelect2WithUrl(a,b,!0);a.select2("container").on("mousedown","li.select2-search-choice span",function(a){a.preventDefault();a.stopPropagation()}).on("click","li.select2-search-choice span",function(){0!=f&&($(this).parent().parent().find("li.select2-search-choice span").removeClass("primary"),$(this).addClass("primary"),c.val($(this).parent().find("div").text()))});a.on("select2-removed",function(a){if(0!=f){var b=c.val();a.val==
b&&c.val("")}}).on("change",function(a){var b=c.val();$(this).select2("container").find("li.select2-search-choice span").removeClass("primary");$(this).select2("container").find("li.select2-search-choice").each(function(){0==$(this).find("span").size()&&$(this).append("<span>P</span>");b&&$(this).find("div").text()==b&&$(this).find("span").addClass("primary")})}).trigger("change");return a}
function emailConfig(a){a=$("#emailConfiguration");var b=$("#noEmailOnNoData"),c=$("#subject"),f=$("#body"),d=$("#noEmailOnNoDataValue"),e=$("#bodyValue"),g=$("#subjectValue");c.val()&&f.val()?$(".showEmailConfiguration img").attr({src:"/reports/assets/icons/email-secure.png",title:"Email configuration edited"}):$(".showEmailConfiguration img").attr({src:"/reports/assets/icons/email.png",title:"Add email configuration"});$(a).on("show.bs.modal",function(a){g.parent().removeClass("has-error");e.parent().removeClass("has-error");
c.val()&&f.val()&&("true"===b.val()?d.prop("checked",!0):d.prop("checked",!1),g.val(c.val()),e.val(f.val()))});$(a).find("#saveEmailConfiguration").on("click",function(a){!(g.val().trim()||e.val().trim()||d.is(":checked"))||g.val().trim()&&e.val().trim()?(a=!0,d.parent().removeClass("has-error")):(d.is(":checked")&&d.parent().addClass("has-error"),g.val().trim()?g.parent().removeClass("has-error"):g.parent().addClass("has-error"),e.val().trim()?e.parent().removeClass("has-error"):e.parent().addClass("has-error"),
a=!1);if(!a)return!1;b.val(d.is(":checked"));c.val(g.val().trim());f.val(e.val().trim());c.val()&&f.val()?$(".showEmailConfiguration img").attr({src:"/reports/assets/icons/email-secure.png",title:"Email configuration edited"}):$(".showEmailConfiguration img").attr({src:"/reports/assets/icons/email.png",title:"Add email configuration"});$(this).attr("data-dismiss","modal")});$(a).find("#resetEmailConfiguration").on("click",function(a){d.prop("checked",!1);g.val("");e.val("")})}
String.prototype.includes||(String.prototype.includes=function(a,b){"number"!==typeof b&&(b=0);return b+a.length>this.length?!1:-1!==this.indexOf(a,b)});$(function(){var a=$("meta[name='_csrf']").attr("content"),b=$("meta[name='_csrf_header']").attr("content"),c=$("meta[name='_csrf_parameter']").attr("content");b&&a&&$(document).ajaxSend(function(c,d,e){"GET"!==e.type&&d.setRequestHeader(b,a)});c&&a&&$("form").submit(function(){var b=$("<input>").attr("type","hidden").attr("name",c).val(a);$(b).appendTo(this)})});
function escapeHTML(a){return void 0!=a?a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}
var convertAlertTypeName=function(a){switch(a){case ALERT_CONFIG_TYPE.SINGLE_CASE_ALERT:return ALERT_CONFIG_TYPE_SHORT.QUALTITATIVE_ALERT;case ALERT_CONFIG_TYPE.AGGREGATE_CASE_ALERT:return ALERT_CONFIG_TYPE_SHORT.QUANTITATIVE_ALERT;case ALERT_CONFIG_TYPE.LITERATURE_SEARCH_ALERT:return ALERT_CONFIG_TYPE_SHORT.LITERATURE_ALERT;case ALERT_CONFIG_TYPE.EVDAS_ALERT:return ALERT_CONFIG_TYPE_SHORT.EVDAS_ALERT;case ALERT_CONFIG_TYPE.ADHOC_ALERT:return ALERT_CONFIG_TYPE_SHORT.ADHOC_ALERT;default:return a}},
preventEnterKeySubmit=function(a){if(13===a.keyCode)return a.stopPropagation(),a.preventDefault(),!1},showSuccessNotification=function(a,b){b=b||DEFAULT_AUTO_HIDE_DELAY_TIME;$.Notification.notify("success","top right","Success",a,{autoHideDelay:b})},showErrorNotification=function(a,b){b=b||DEFAULT_AUTO_HIDE_DELAY_TIME;$.Notification.notify("error","top right","Error",a,{autoHideDelay:b})};