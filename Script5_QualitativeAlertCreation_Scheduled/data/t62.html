(function(n){"function"===typeof define&&define.amd?define(["jquery","bootstrap"],n):n(jQuery)})(function(n){if("undefined"===typeof n)throw Error("Fuel UX's JavaScript requires jQuery");if("undefined"===typeof n.fn.dropdown||"undefined"===typeof n.fn.collapse)throw Error("Fuel UX's JavaScript requires Bootstrap");(function(b){var k=b.fn.checkbox,g=function(a,d){this.options=b.extend({},b.fn.checkbox.defaults,d);"label"===a.tagName.toLowerCase()&&(this.$label=b(a),this.$chk=this.$label.find('input[type="checkbox"]'),
this.$container=b(a).parent(".checkbox"),a=this.$chk.attr("data-toggle"),this.$toggleContainer=b(a),this.$chk.on("change",b.proxy(this.itemchecked,this)),this.setInitialState())};g.prototype={constructor:g,setInitialState:function(){var a=this.$chk,b=a.prop("checked"),c=a.prop("disabled");this.setCheckedState(a,b);this.setDisabledState(a,c)},setCheckedState:function(a,b){var c=this.$label,e=this.$toggleContainer;b?(a.prop("checked",!0),c.addClass("checked"),e.removeClass("hide hidden"),c.trigger("checked.fu.checkbox")):
(a.prop("checked",!1),c.removeClass("checked"),e.addClass("hidden"),c.trigger("unchecked.fu.checkbox"));c.trigger("changed.fu.checkbox",b)},setDisabledState:function(a,b){a=this.$label;b?(this.$chk.prop("disabled",!0),a.addClass("disabled"),a.trigger("disabled.fu.checkbox")):(this.$chk.prop("disabled",!1),a.removeClass("disabled"),a.trigger("enabled.fu.checkbox"))},itemchecked:function(a){a=b(a.target);var d=a.prop("checked");this.setCheckedState(a,d)},toggle:function(){this.isChecked()?this.uncheck():
this.check()},check:function(){this.setCheckedState(this.$chk,!0)},uncheck:function(){this.setCheckedState(this.$chk,!1)},isChecked:function(){return this.$chk.prop("checked")},enable:function(){this.setDisabledState(this.$chk,!1)},disable:function(){this.setDisabledState(this.$chk,!0)},destroy:function(){this.$label.remove();return this.$label[0].outerHTML}};g.prototype.getValue=g.prototype.isChecked;b.fn.checkbox=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var h=
b(this),e=h.data("fu.checkbox"),l="object"===typeof a&&a;e||h.data("fu.checkbox",e=new g(this,l));"string"===typeof a&&(c=e[a].apply(e,d))});return void 0===c?e:c};b.fn.checkbox.defaults={};b.fn.checkbox.Constructor=g;b.fn.checkbox.noConflict=function(){b.fn.checkbox=k;return this};b(document).on("mouseover.fu.checkbox.data-api","[data-initialize=checkbox]",function(a){a=b(a.target);a.data("fu.checkbox")||a.checkbox(a.data())});b(function(){b("[data-initialize=checkbox]").each(function(){var a=b(this);
a.data("fu.checkbox")||a.checkbox(a.data())})})})(n);(function(b){var k=b.fn.combobox,g=function(a,d){this.$element=b(a);this.options=b.extend({},b.fn.combobox.defaults,d);this.$dropMenu=this.$element.find(".dropdown-menu");this.$input=this.$element.find("input");this.$button=this.$element.find(".btn");this.$inputGroupBtn=this.$element.find(".input-group-btn");this.$element.on("click.fu.combobox","a",b.proxy(this.itemclicked,this));this.$element.on("change.fu.combobox","input",b.proxy(this.inputchanged,
this));this.$element.on("shown.bs.dropdown",b.proxy(this.menuShown,this));this.$input.on("keyup.fu.combobox",b.proxy(this.keypress,this));this.setDefaultSelection();0===this.$dropMenu.children("li").length&&this.$button.addClass("disabled");this.options.filterOnKeypress&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this)};g.prototype={constructor:g,destroy:function(){this.$element.remove();this.$element.find("input").each(function(){b(this).attr("value",b(this).val())});return this.$element[0].outerHTML},
doSelect:function(a){"undefined"!==typeof a[0]?(this.$element.find("li.selected:first").removeClass("selected"),this.$selectedItem=a,this.$selectedItem.addClass("selected"),this.$input.val(this.$selectedItem.text().trim())):(this.$selectedItem=null,this.$element.find("li.selected:first").removeClass("selected"))},clearSelection:function(){this.$selectedItem=null;this.$input.val("");this.$dropMenu.find("li").removeClass("selected")},menuShown:function(){this.options.autoResizeMenu&&this.resizeMenu()},
resizeMenu:function(){var a=this.$element.outerWidth();this.$dropMenu.outerWidth(a)},selectedItem:function(){var a;this.$selectedItem?(a=this.$selectedItem.text().trim(),a=b.extend({text:a},this.$selectedItem.data())):a={text:this.$input.val().trim(),notFound:!0};return a},selectByText:function(a){var d=b([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||b(this).text()||"").trim().toLowerCase()===(a||"").trim().toLowerCase())return d=b(this),!1});this.doSelect(d)},
selectByValue:function(a){this.selectBySelector('li[data-value="'+a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+a+")")},selectBySelector:function(a){a=this.$element.find(a);this.doSelect(a)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]:first");0<a.length&&(this.selectBySelector("li[data-selected=true]:first"),a.removeData("selected"),a.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled");this.$input.removeAttr("disabled");
this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$input.attr("disabled",!0);this.$button.addClass("disabled")},itemclicked:function(a){this.$selectedItem=b(a.target).parent();this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var d=this.selectedItem();this.$element.trigger("changed.fu.combobox",d);a.preventDefault();this.$element.find(".dropdown-toggle").focus()},keypress:function(a){var b=38===a.which||40===a.which||
37===a.which||39===a.which;this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus());if(13===a.which){a.preventDefault();var c=this.$dropMenu.find("li.selected").text().trim();0<c.length?this.selectByText(c):this.selectByText(this.$input.val());this.$inputGroupBtn.removeClass("open")}else 27===a.which?(a.preventDefault(),this.clearSelection(),this.$inputGroupBtn.removeClass("open")):!this.options.showOptionsOnKeypress||40!==a.which&&
38!==a.which||(a.preventDefault(),c=this.$dropMenu.find("li.selected"),0<c.length&&(c=40===a.which?c.next(":not(.hidden)"):c.prev(":not(.hidden)")),0===c.length&&(c=40===a.which?this.$dropMenu.find("li:not(.hidden):first"):this.$dropMenu.find("li:not(.hidden):last")),this.doSelect(c));this.options.filterOnKeypress&&!b&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this);this.previousKeyPress=a.which},inputchanged:function(a,d){a=b(a.target).val();d&&d.synthetic?this.selectByText(a):
(this.selectByText(a),d=this.selectedItem(),0===d.text.length&&(d={text:a}),this.$element.trigger("changed.fu.combobox",d))}};g.prototype.getValue=g.prototype.selectedItem;b.fn.combobox=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var h=b(this),e=h.data("fu.combobox"),l="object"===typeof a&&a;e||h.data("fu.combobox",e=new g(this,l));"string"===typeof a&&(c=e[a].apply(e,d))});return void 0===c?e:c};b.fn.combobox.defaults={autoResizeMenu:!0,filterOnKeypress:!1,
showOptionsOnKeypress:!1,filter:function(a,d,c){var e=0;c.$dropMenu.find(".empty-indicator").remove();a.each(function(a){a=b(this);var c=b(this).text().trim();a.removeClass();c===d?(a.addClass("text-success"),e++):c.substr(0,d.length)===d?(a.addClass("text-info"),e++):a.addClass("hidden")});0===e&&c.$dropMenu.append('<li class="empty-indicator text-muted"><em>No Matches</em></li>')}};b.fn.combobox.Constructor=g;b.fn.combobox.noConflict=function(){b.fn.combobox=k;return this};b(document).on("mousedown.fu.combobox.data-api",
"[data-initialize=combobox]",function(a){a=b(a.target).closest(".combobox");a.data("fu.combobox")||a.combobox(a.data())});b(function(){b("[data-initialize=combobox]").each(function(){var a=b(this);a.data("fu.combobox")||a.combobox(a.data())})})})(n);(function(b){var k=[],g=!1,a=b.fn.datepicker,d=!1,c=function(){var a,b;d=!0;a=0;for(b=k.length;a<b;a++)k[a].init.call(k[a].scope);k=[]};"function"===typeof define&&define.amd?require(["moment"],function(a){g=a;c()},function(a){"moment"===(a.requireModules&&
a.requireModules[0])&&c()}):c();var e=function(a,c){this.$element=b(a);this.options=b.extend(!0,{},b.fn.datepicker.defaults,c);this.$calendar=this.$element.find(".datepicker-calendar");this.$days=this.$calendar.find(".datepicker-calendar-days");this.$header=this.$calendar.find(".datepicker-calendar-header");this.$headerTitle=this.$header.find(".title");this.$input=this.$element.find("input");this.$inputGroupBtn=this.$element.find(".input-group-btn");this.$wheels=this.$element.find(".datepicker-wheels");
this.$wheelsMonth=this.$element.find(".datepicker-wheels-month");this.$wheelsYear=this.$element.find(".datepicker-wheels-year");this.artificialScrolling=!1;this.formatDate=this.options.formatDate||this.formatDate;this.inputValue=null;this.moment=!1;this.momentFormat=null;this.parseDate=this.options.parseDate||this.parseDate;this.preventBlurHide=!1;this.restricted=this.options.restricted||[];this.restrictedParsed=[];this.restrictedText=this.options.restrictedText;this.sameYearOnly=this.options.sameYearOnly;
this.yearRestriction=this.selectedDate=null;this.$calendar.find(".datepicker-today").on("click.fu.datepicker",b.proxy(this.todayClicked,this));this.$days.on("click.fu.datepicker","tr td button",b.proxy(this.dateClicked,this));this.$header.find(".next").on("click.fu.datepicker",b.proxy(this.next,this));this.$header.find(".prev").on("click.fu.datepicker",b.proxy(this.prev,this));this.$headerTitle.on("click.fu.datepicker",b.proxy(this.titleClicked,this));this.$input.on("change.fu.datepicker",b.proxy(this.inputChanged,
this));this.$input.on("mousedown.fu.datepicker",b.proxy(this.showDropdown,this));this.$inputGroupBtn.on("hidden.bs.dropdown",b.proxy(this.hide,this));this.$inputGroupBtn.on("shown.bs.dropdown",b.proxy(this.show,this));this.$wheels.find(".datepicker-wheels-back").on("click.fu.datepicker",b.proxy(this.backClicked,this));this.$wheels.find(".datepicker-wheels-select").on("click.fu.datepicker",b.proxy(this.selectClicked,this));this.$wheelsMonth.on("click.fu.datepicker","ul button",b.proxy(this.monthClicked,
this));this.$wheelsYear.on("click.fu.datepicker","ul button",b.proxy(this.yearClicked,this));this.$wheelsYear.find("ul").on("scroll.fu.datepicker",b.proxy(this.onYearScroll,this));a=function(){this.checkForMomentJS()&&(g=g||window.moment,this.moment=!0,this.momentFormat=this.options.momentConfig.format,this.setCulture(this.options.momentConfig.culture),g.locale=g.locale||g.lang);this.setRestrictedDates(this.restricted);this.setDate(this.options.date)||(this.$input.val(""),this.inputValue=this.$input.val());
this.sameYearOnly&&(this.yearRestriction=this.selectedDate?this.selectedDate.getFullYear():(new Date).getFullYear())};d?a.call(this):k.push({init:a,scope:this})};e.prototype={constructor:e,backClicked:function(){this.changeView("calendar")},changeView:function(a,b){"wheels"===a?(this.$calendar.hide().attr("aria-hidden","true"),this.$wheels.show().removeAttr("aria-hidden",""),b&&this.renderWheel(b)):(this.$wheels.hide().attr("aria-hidden","true"),this.$calendar.show().removeAttr("aria-hidden",""),
b&&this.renderMonth(b))},checkForMomentJS:function(){return(b.isFunction(window.moment)||"undefined"!==typeof g&&b.isFunction(g))&&b.isPlainObject(this.options.momentConfig)&&"string"===typeof this.options.momentConfig.culture&&"string"===typeof this.options.momentConfig.format?!0:!1},dateClicked:function(a){a=b(a.currentTarget).parents("td:first");a.hasClass("restricted")||(this.$days.find("td.selected").removeClass("selected"),a.addClass("selected"),this.selectedDate=a=new Date(a.attr("data-year"),
a.attr("data-month"),a.attr("data-date")),this.$input.val(this.formatDate(a)),this.inputValue=this.$input.val(),this.hide(),this.$input.focus(),this.$element.trigger("dateClicked.fu.datepicker",a))},destroy:function(){this.$element.remove();this.$days.find("tbody").empty();this.$wheelsYear.find("ul").empty();return this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled");this.$element.find("input, button").attr("disabled","disabled");this.$inputGroupBtn.removeClass("open")},
enable:function(){this.$element.removeClass("disabled");this.$element.find("input, button").removeAttr("disabled")},formatDate:function(a){var b=function(a){a="0"+a;return a.substr(a.length-2)};return this.moment?g(a).format(this.momentFormat):b(a.getMonth()+1)+"/"+b(a.getDate())+"/"+a.getFullYear()},getCulture:function(){if(this.moment)return g.locale();throw"moment.js is not available so you cannot use this function";},getDate:function(){return this.selectedDate?this.selectedDate:new Date(NaN)},
getFormat:function(){if(this.moment)return this.momentFormat;throw"moment.js is not available so you cannot use this function";},getFormattedDate:function(){return this.selectedDate?this.formatDate(this.selectedDate):"Invalid Date"},getRestrictedDates:function(){return this.restricted},inputChanged:function(){var a=this.$input.val(),b;a!==this.inputValue&&(b=this.setDate(a),null===b?this.$element.trigger("inputParsingFailed.fu.datepicker",a):!1===b?this.$element.trigger("inputRestrictedDate.fu.datepicker",
b):this.$element.trigger("changed.fu.datepicker",b))},show:function(){this.changeView("calendar",this.selectedDate?this.selectedDate:new Date);this.$inputGroupBtn.addClass("open");this.$element.trigger("shown.fu.datepicker")},showDropdown:function(a){this.$input.is(":focus")||this.$inputGroupBtn.hasClass("open")||(this.hideAllOpenDatepickers(),this.show())},hide:function(){this.$inputGroupBtn.removeClass("open");this.$element.trigger("hidden.fu.datepicker")},hideAllOpenDatepickers:function(){b(".datepicker .input-group-btn.open").trigger("hidden.bs.dropdown")},
hideDropdown:function(){this.hide()},isInvalidDate:function(a){a=a.toString();return"Invalid Date"===a||"NaN"===a?!0:!1},isRestricted:function(a,b,c){var d=this.restrictedParsed,e,g,t,u;if(this.sameYearOnly&&null!==this.yearRestriction&&c!==this.yearRestriction)return!0;e=0;for(t=d.length;e<t;e++)if(g=d[e].from,u=d[e].to,(c>g.year||c===g.year&&b>g.month||c===g.year&&b===g.month&&a>=g.date)&&(c<u.year||c===u.year&&b<u.month||c===u.year&&b===u.month&&a<=u.date))return!0;return!1},monthClicked:function(a){this.$wheelsMonth.find(".selected").removeClass("selected");
b(a.currentTarget).parent().addClass("selected")},next:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");a++;if(11<a){if(this.sameYearOnly)return;a=0;b++}this.renderMonth(new Date(b,a,1))},onYearScroll:function(a){if(!this.artificialScrolling){a=b(a.currentTarget);var c="border-box"===a.css("box-sizing")?a.outerHeight():a.height(),d=a.get(0).scrollHeight,e=a.scrollTop(),c=c/(d-e)*100,m;if(5>e/d*100){m=parseInt(a.find("li:first").attr("data-year"),10);for(c=
m-1;c>m-11;c--)a.prepend('<li data-year="'+c+'"><button type="button">'+c+"</button></li>");this.artificialScrolling=!0;a.scrollTop(a.get(0).scrollHeight-d+e);this.artificialScrolling=!1}else if(90<c)for(m=parseInt(a.find("li:last").attr("data-year"),10),c=m+1;c<m+11;c++)a.append('<li data-year="'+c+'"><button type="button">'+c+"</button></li>")}},parseDate:function(a){var b=this,c=new Date(NaN),d,e,z;if(a){if(this.moment)return e=function(a){a=g(a,b.momentFormat);return!0===a.isValid()?a.toDate():
c},d=function(a){a=g(new Date(a));return!0===a.isValid()?a.toDate():c},z=function(a,d,e){a=d(a);if(!b.isInvalidDate(a))return a;a=e(a);return b.isInvalidDate(a)?c:a},"string"===typeof a?z(a,e,d):z(a,d,e);if("string"===typeof a)if(d=new Date(Date.parse(a)),this.isInvalidDate(d)){if(a=a.split("T")[0],d=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/,d=d.exec(a))if(a=parseInt(d[2],10),d=new Date(d[1],a-1,d[3]),a===d.getMonth()+1)return d}else return d;else if(d=new Date(a),!this.isInvalidDate(d))return d}return new Date(NaN)},
prev:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");a--;if(0>a){if(this.sameYearOnly)return;a=11;b--}this.renderMonth(new Date(b,a,1))},renderMonth:function(a){a=a||new Date;var c=(new Date(a.getFullYear(),a.getMonth(),1)).getDay(),d=(new Date(a.getFullYear(),a.getMonth()+1,0)).getDate(),e=(new Date(a.getFullYear(),a.getMonth(),0)).getDate(),m=this.$headerTitle.find(".month"),g=a.getMonth(),t=new Date,u=t.getDate(),A=t.getMonth(),t=t.getFullYear(),q=this.selectedDate,
k=this.$days.find("tbody");a=a.getFullYear();var r,v,n,B,x,y,w,C;q&&(q={date:q.getDate(),month:q.getMonth(),year:q.getFullYear()});m.find(".current").removeClass("current");m.find('span[data-month="'+g+'"]').addClass("current");this.$headerTitle.find(".year").text(a);this.$headerTitle.attr({"data-month":g,"data-year":a});k.empty();0!==c?(m=e-c+1,x=-1):(m=1,x=0);B=d<=35-c?5:6;for(c=0;c<B;c++){C=b("<tr></tr>");for(n=0;7>n;n++){w=b("<td></td>");-1===x?(w.addClass("last-month"),y!==x&&w.addClass("first")):
1===x&&(w.addClass("next-month"),y!==x&&w.addClass("first"));r=g+x;v=a;0>r?(r=11,v--):11<r&&(r=0,v++);w.attr({"data-date":m,"data-month":r,"data-year":v});if(v===t&&r===A&&m===u)w.addClass("current-day");else if(v<t||v===t&&r<A||v===t&&r===A&&m<u)w.addClass("past"),this.options.allowPastDates||w.addClass("restricted").attr("title",this.restrictedText);this.isRestricted(m,r,v)&&w.addClass("restricted").attr("title",this.restrictedText);q&&v===q.year&&r===q.month&&m===q.date&&w.addClass("selected");
w.hasClass("restricted")?w.html('<span><b class="datepicker-date">'+m+"</b></span>"):w.html('<span><button type="button" class="datepicker-date">'+m+"</button></span>");m++;r=y;y=x;-1===x&&m>e?(m=1,x=0,r!==x&&w.addClass("last")):0===x&&m>d&&(x=m=1,r!==x&&w.addClass("last"));c===B-1&&6===n&&w.addClass("last");C.append(w)}k.append(C)}},renderWheel:function(a){var b=a.getMonth(),c=this.$wheelsMonth.find("ul"),d=a.getFullYear();a=this.$wheelsYear.find("ul");this.sameYearOnly?(this.$wheelsMonth.addClass("full"),
this.$wheelsYear.addClass("hidden")):(this.$wheelsMonth.removeClass("full"),this.$wheelsYear.removeClass("hide hidden"));c.find(".selected").removeClass("selected");b=c.find('li[data-month="'+b+'"]');b.addClass("selected");c.scrollTop(c.scrollTop()+(b.position().top-c.outerHeight()/2-b.outerHeight(!0)/2));a.empty();for(c=d-10;c<d+11;c++)a.append('<li data-year="'+c+'"><button type="button">'+c+"</button></li>");c=a.find('li[data-year="'+d+'"]');c.addClass("selected");this.artificialScrolling=!0;a.scrollTop(a.scrollTop()+
(c.position().top-a.outerHeight()/2-c.outerHeight(!0)/2));this.artificialScrolling=!1;b.find("button").focus()},selectClicked:function(){var a=this.$wheelsMonth.find(".selected").attr("data-month"),b=this.$wheelsYear.find(".selected").attr("data-year");this.changeView("calendar",new Date(b,a,1))},setCulture:function(a){if(!a)return!1;if(this.moment)g.locale(a);else throw"moment.js is not available so you cannot use this function";},setDate:function(a){a=this.parseDate(a);this.isInvalidDate(a)?(this.selectedDate=
null,this.renderMonth()):this.isRestricted(a.getDate(),a.getMonth(),a.getFullYear())?(this.selectedDate=!1,this.renderMonth()):(this.selectedDate=a,this.renderMonth(a),this.$input.val(this.formatDate(a)));this.inputValue=this.$input.val();return this.selectedDate},setFormat:function(a){if(!a)return!1;if(this.moment)this.momentFormat=a;else throw"moment.js is not available so you cannot use this function";},setRestrictedDates:function(a){var b=[],c=this,d,e,g=function(a){if(-Infinity===a)return{date:-Infinity,
month:-Infinity,year:-Infinity};if(Infinity===a)return{date:Infinity,month:Infinity,year:Infinity};a=c.parseDate(a);return{date:a.getDate(),month:a.getMonth(),year:a.getFullYear()}};this.restricted=a;d=0;for(e=a.length;d<e;d++)b.push({from:g(a[d].from),to:g(a[d].to)});this.restrictedParsed=b},titleClicked:function(a){this.changeView("wheels",new Date(this.$headerTitle.attr("data-year"),this.$headerTitle.attr("data-month"),1))},todayClicked:function(a){a=new Date;a.getMonth()+""===this.$headerTitle.attr("data-month")&&
a.getFullYear()+""===this.$headerTitle.attr("data-year")||this.renderMonth(a)},yearClicked:function(a){this.$wheelsYear.find(".selected").removeClass("selected");b(a.currentTarget).parent().addClass("selected")}};e.prototype.getValue=e.prototype.getDate;b.fn.datepicker=function(a){var c=Array.prototype.slice.call(arguments,1),d,p=this.each(function(){var p=b(this),g=p.data("fu.datepicker"),t="object"===typeof a&&a;g||p.data("fu.datepicker",g=new e(this,t));"string"===typeof a&&(d=g[a].apply(g,c))});
return void 0===d?p:d};b.fn.datepicker.defaults={allowPastDates:!1,date:new Date,formatDate:null,momentConfig:{culture:"en",format:"L"},parseDate:null,restricted:[],restrictedText:"Restricted",sameYearOnly:!1};b.fn.datepicker.Constructor=e;b.fn.datepicker.noConflict=function(){b.fn.datepicker=a;return this};b(document).on("mousedown.fu.datepicker.data-api","[data-initialize=datepicker]",function(a){a=b(a.target).closest(".datepicker");a.data("datepicker")||a.datepicker(a.data())});b(document).on("click.fu.datepicker.data-api",
".datepicker .dropdown-menu",function(a){var c=b(a.target);c.is(".datepicker-date")&&!c.closest(".restricted").length||a.stopPropagation()});b(document).on("click.fu.datepicker.data-api",".datepicker input",function(a){a.stopPropagation()});b(function(){b("[data-initialize=datepicker]").each(function(){var a=b(this);a.data("datepicker")||a.datepicker(a.data())})})})(n);(function(b){function k(a){b(a).css({visibility:"hidden"});var d=g(a),c,e,h,f,l;c=a.parent().outerHeight();e=a.parent().offset().top;
h=a.outerHeight();f=d.overflowElement.outerHeight();l=d.isWindow?d.overflowElement.scrollTop():d.overflowElement.offset().top;d=e-l;c=f-c-(e-l);(h<c?0:h<d||h>=d&&h>=c&&d>=c)?a.parent().addClass("dropup"):a.parent().removeClass("dropup");b(a).css({visibility:"visible"})}function g(a){var d=a.attr("data-target"),c=!0,e;d?"window"!==d&&(e=b(d),c=!1):b.each(a.parents(),function(a,d){if("visible"!==b(d).css("overflow"))return e=d,c=!1});c&&(e=window);return{overflowElement:b(e),isWindow:c}}b(document.body).on("click.fu.dropdown-autoflip",
"[data-toggle=dropdown][data-flip]",function(a){"auto"===b(this).data().flip&&k(b(this).next(".dropdown-menu"))});b(document.body).on("suggested.fu.pillbox",function(a,d){k(b(d));b(d).parent().addClass("open")});b.fn.dropdownautoflip=function(){}})(n);(function(b){var k=b.fn.loader,g=function(a,d){this.$element=b(a);this.options=b.extend({},b.fn.loader.defaults,d);this.begin=this.$element.is("[data-begin]")?parseInt(this.$element.attr("data-begin"),10):1;this.delay=this.$element.is("[data-delay]")?
parseFloat(this.$element.attr("data-delay")):150;this.end=this.$element.is("[data-end]")?parseInt(this.$element.attr("data-end"),10):8;this.frame=this.$element.is("[data-frame]")?parseInt(this.$element.attr("data-frame"),10):this.begin;this.isIElt9=!1;this.timeout={};a=this.msieVersion();!1!==a&&9>a&&(this.$element.addClass("iefix"),this.isIElt9=!0);this.$element.attr("data-frame",this.frame+"");this.play()};g.prototype={constructor:g,destroy:function(){this.pause();this.$element.remove();return this.$element[0].outerHTML},
ieRepaint:function(){this.isIElt9&&this.$element.addClass("iefix_repaint").removeClass("iefix_repaint")},msieVersion:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1},next:function(){this.frame++;this.frame>this.end&&(this.frame=this.begin);this.$element.attr("data-frame",this.frame+"");this.ieRepaint()},pause:function(){clearTimeout(this.timeout)},play:function(){var a=this;clearTimeout(this.timeout);this.timeout=setTimeout(function(){a.next();
a.play()},this.delay)},previous:function(){this.frame--;this.frame<this.begin&&(this.frame=this.end);this.$element.attr("data-frame",this.frame+"");this.ieRepaint()},reset:function(){this.frame=this.begin;this.$element.attr("data-frame",this.frame+"");this.ieRepaint()}};b.fn.loader=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=b(this),f=e.data("fu.loader"),l="object"===typeof a&&a;f||e.data("fu.loader",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,
d))});return void 0===c?e:c};b.fn.loader.defaults={};b.fn.loader.Constructor=g;b.fn.loader.noConflict=function(){b.fn.loader=k;return this};b(function(){b("[data-initialize=loader]").each(function(){var a=b(this);a.data("fu.loader")||a.loader(a.data())})})})(n);(function(b){var k=b.fn.placard,g={accepted:"onAccept",cancelled:"onCancel"},a=function(a,c){var e=this;this.$element=b(a);this.options=b.extend({},b.fn.placard.defaults,c);"true"===this.$element.attr("data-ellipsis")&&(this.options.applyEllipsis=
!0);this.$accept=this.$element.find(".placard-accept");this.$cancel=this.$element.find(".placard-cancel");this.$field=this.$element.find(".placard-field");this.$footer=this.$element.find(".placard-footer");this.$header=this.$element.find(".placard-header");this.$popup=this.$element.find(".placard-popup");this.actualValue=null;this.clickStamp="_";this.previousValue="";-1===this.options.revertOnCancel&&(this.options.revertOnCancel=0<this.$accept.length);this.isContentEditableDiv=this.$field.is("div");
this.isInput=this.$field.is("input");this.divInTextareaMode=this.isContentEditableDiv&&"true"===this.$field.attr("data-textarea");this.$field.on("focus.fu.placard",b.proxy(this.show,this));this.$field.on("keydown.fu.placard",b.proxy(this.keyComplete,this));this.$element.on("close.fu.placard",b.proxy(this.hide,this));this.$accept.on("click.fu.placard",b.proxy(this.complete,this,"accepted"));this.$cancel.on("click.fu.placard",function(a){a.preventDefault();e.complete("cancelled")});this.applyEllipsis()};
a.prototype={constructor:a,complete:function(a){var b=this.options[g[a]],e={previousValue:this.previousValue,value:this.getValue()};b?(b(e),this.$element.trigger(a+".fu.placard",e)):("cancelled"===a&&this.options.revertOnCancel&&this.setValue(this.previousValue,!0),this.$element.trigger(a+".fu.placard",e),this.hide())},keyComplete:function(a){(this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)&&13===a.keyCode?(this.complete("accepted"),this.$field.blur()):27===a.keyCode&&(this.complete("cancelled"),
this.$field.blur())},destroy:function(){this.$element.remove();b(document).off("click.fu.placard.externalClick."+this.clickStamp);this.$element.find("input").each(function(){b(this).attr("value",b(this).val())});return this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled");this.$field.attr("disabled","disabled");this.isContentEditableDiv&&this.$field.removeAttr("contenteditable");this.hide()},applyEllipsis:function(){var a,b,e;if(this.options.applyEllipsis)if(a=this.$field.get(0),
this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)a.scrollLeft=0;else if(a.scrollTop=0,a.clientHeight<a.scrollHeight){this.actualValue=this.getValue();this.setValue("",!0);e="";for(b=0;a.clientHeight>=a.scrollHeight;)e+=this.actualValue[b],this.setValue(e+"...",!0),b++;e=0<e.length?e.substring(0,e.length-1):"";this.setValue(e+"...",!0)}},enable:function(){this.$element.removeClass("disabled");this.$field.removeAttr("disabled");this.isContentEditableDiv&&this.$field.attr("contenteditable",
"true")},externalClickListener:function(a,b){(!0===b||this.isExternalClick(a))&&this.complete(this.options.externalClickAction)},getValue:function(){return null!==this.actualValue?this.actualValue:this.isContentEditableDiv?this.$field.html():this.$field.val()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),this.applyEllipsis(),b(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.placard"))},isExternalClick:function(a){var c=
this.$element.get(0),e=this.options.externalClickExceptions||[],h=b(a.target);if(a.target===c||h.parents(".placard:first").get(0)===c)return!1;a=0;for(c=e.length;a<c;a++)if(h.is(e[a])||0<h.parents(e[a]).length)return!1;return!0},setValue:function(a,b){"undefined"===typeof b&&(b=!this.options.applyEllipsis);this.isContentEditableDiv?this.$field.empty().append(a):this.$field.val(a);b||this.$element.hasClass("showing")||this.applyEllipsis();return this.$field},show:function(){if(!this.$element.hasClass("showing")){var a;
a:{a=b(document).find(".placard.showing");if(0<a.length){if(a.data("fu.placard")&&a.data("fu.placard").options.explicit){a=!1;break a}a.placard("externalClickListener",{},!0)}a=!0}a&&(this.previousValue=this.isContentEditableDiv?this.$field.html():this.$field.val(),null!==this.actualValue&&(this.setValue(this.actualValue,!0),this.actualValue=null),this.showPlacard())}},showPlacard:function(){this.$element.addClass("showing");0<this.$header.length&&this.$popup.css("top","-"+this.$header.outerHeight(!0)+
"px");0<this.$footer.length&&this.$popup.css("bottom","-"+this.$footer.outerHeight(!0)+"px");this.$element.trigger("shown.fu.placard");this.clickStamp=(new Date).getTime()+(Math.floor(100*Math.random())+1);if(!this.options.explicit)b(document).on("click.fu.placard.externalClick."+this.clickStamp,b.proxy(this.externalClickListener,this))}};b.fn.placard=function(d){var c=Array.prototype.slice.call(arguments,1),e,h=this.each(function(){var h=b(this),l=h.data("fu.placard"),p="object"===typeof d&&d;l||
h.data("fu.placard",l=new a(this,p));"string"===typeof d&&(e=l[d].apply(l,c))});return void 0===e?h:e};b.fn.placard.defaults={onAccept:void 0,onCancel:void 0,externalClickAction:"cancelled",externalClickExceptions:[],explicit:!1,revertOnCancel:-1,applyEllipsis:!1};b.fn.placard.Constructor=a;b.fn.placard.noConflict=function(){b.fn.placard=k;return this};b(document).on("focus.fu.placard.data-api","[data-initialize=placard]",function(a){a=b(a.target).closest(".placard");a.data("fu.placard")||a.placard(a.data())});
b(function(){b("[data-initialize=placard]").each(function(){var a=b(this);a.data("fu.placard")||a.placard(a.data())})})})(n);(function(b){var k=b.fn.radio,g=function(a,d){this.options=b.extend({},b.fn.radio.defaults,d);"label"===a.tagName.toLowerCase()&&(this.$label=b(a),this.$radio=this.$label.find('input[type="radio"]'),this.groupName=this.$radio.attr("name"),a=this.$radio.attr("data-toggle"),this.$toggleContainer=b(a),this.$radio.on("change",b.proxy(this.itemchecked,this)),this.setInitialState())};
g.prototype={constructor:g,setInitialState:function(){var a=this.$radio,b=a.prop("checked"),c=a.prop("disabled");this.setCheckedState(a,b);this.setDisabledState(a,c)},resetGroup:function(){b('input[name="'+this.groupName+'"]').each(function(a,d){d=b(d);a=d.parent();d=d.attr("data-toggle");d=b(d);a.removeClass("checked");d.addClass("hidden")})},setCheckedState:function(a,d){var c=a.parent(),e=a.attr("data-toggle"),e=b(e);d?(this.resetGroup(),a.prop("checked",!0),c.addClass("checked"),e.removeClass("hide hidden"),
c.trigger("checked.fu.radio")):(a.prop("checked",!1),c.removeClass("checked"),e.addClass("hidden"),c.trigger("unchecked.fu.radio"));c.trigger("changed.fu.radio",d)},setDisabledState:function(a,b){a=this.$label;b?(this.$radio.prop("disabled",!0),a.addClass("disabled"),a.trigger("disabled.fu.radio")):(this.$radio.prop("disabled",!1),a.removeClass("disabled"),a.trigger("enabled.fu.radio"))},itemchecked:function(a){a=b(a.target);this.setCheckedState(a,!0)},check:function(){this.setCheckedState(this.$radio,
!0)},uncheck:function(){this.setCheckedState(this.$radio,!1)},isChecked:function(){return this.$radio.prop("checked")},enable:function(){this.setDisabledState(this.$radio,!1)},disable:function(){this.setDisabledState(this.$radio,!0)},destroy:function(){this.$label.remove();return this.$label[0].outerHTML}};g.prototype.getValue=g.prototype.isChecked;b.fn.radio=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=b(this),f=e.data("fu.radio"),l="object"===typeof a&&
a;f||e.data("fu.radio",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.radio.defaults={};b.fn.radio.Constructor=g;b.fn.radio.noConflict=function(){b.fn.radio=k;return this};b(document).on("mouseover.fu.radio.data-api","[data-initialize=radio]",function(a){a=b(a.target);a.data("fu.radio")||a.radio(a.data())});b(function(){b("[data-initialize=radio]").each(function(){var a=b(this);a.data("fu.radio")||a.radio(a.data())})})})(n);(function(b){var k=b.fn.search,g=
function(a,d){this.$element=b(a);this.$repeater=b(a).closest(".repeater");this.options=b.extend({},b.fn.search.defaults,d);"true"===this.$element.attr("data-searchOnKeyPress")&&(this.options.searchOnKeyPress=!0);this.$button=this.$element.find("button");this.$input=this.$element.find("input");this.$icon=this.$element.find(".glyphicon, .fuelux-icon");this.$button.on("click.fu.search",b.proxy(this.buttonclicked,this));this.$input.on("keyup.fu.search",b.proxy(this.keypress,this));if(0<this.$repeater.length)this.$repeater.on("rendered.fu.repeater",
b.proxy(this.clearPending,this));this.activeSearch=""};g.prototype={constructor:g,destroy:function(){this.$element.remove();this.$element.find("input").each(function(){b(this).attr("value",b(this).val())});return this.$element[0].outerHTML},search:function(a){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove");this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-search").addClass("fuelux-icon-remove");this.activeSearch=a;this.$element.addClass("searched pending");
this.$element.trigger("searched.fu.search",a)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search");this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-remove").addClass("fuelux-icon-search");this.$element.hasClass("pending")&&this.$element.trigger("canceled.fu.search");this.activeSearch="";this.$input.val("");this.$element.trigger("cleared.fu.search");this.$element.removeClass("searched pending")},clearPending:function(){this.$element.removeClass("pending")},
action:function(){var a=this.$input.val();a&&0<a.length?this.search(a):this.clear()},buttonclicked:function(a){a.preventDefault();b(a.currentTarget).is(".disabled, :disabled")||(this.$element.hasClass("pending")||this.$element.hasClass("searched")?this.clear():this.action())},keypress:function(a){13===a.which?(a.preventDefault(),this.action()):9===a.which?a.preventDefault():27===a.which?(a.preventDefault(),this.clear()):this.options.searchOnKeyPress&&this.action()},disable:function(){this.$element.addClass("disabled");
this.$input.attr("disabled","disabled");this.options.allowCancel||this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$button.removeClass("disabled")}};b.fn.search=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=b(this),f=e.data("fu.search"),l="object"===typeof a&&a;f||e.data("fu.search",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.search.defaults=
{clearOnEmpty:!1,searchOnKeyPress:!1,allowCancel:!1};b.fn.search.Constructor=g;b.fn.search.noConflict=function(){b.fn.search=k;return this};b(document).on("mousedown.fu.search.data-api","[data-initialize=search]",function(a){a=b(a.target).closest(".search");a.data("fu.search")||a.search(a.data())});b(function(){b("[data-initialize=search]").each(function(){var a=b(this);a.data("fu.search")||a.search(a.data())})})})(n);(function(b){var k=b.fn.selectlist,g=function(a,d){this.$element=b(a);this.options=
b.extend({},b.fn.selectlist.defaults,d);this.$button=this.$element.find(".btn.dropdown-toggle");this.$hiddenField=this.$element.find(".hidden-field");this.$label=this.$element.find(".selected-label");this.$dropdownMenu=this.$element.find(".dropdown-menu");this.$element.on("click.fu.selectlist",".dropdown-menu a",b.proxy(this.itemClicked,this));this.setDefaultSelection();"auto"!==d.resize&&"auto"!==this.$element.attr("data-resize")||this.resize();0===this.$dropdownMenu.children("li").length&&(this.disable(),
this.doSelect(b(this.options.emptyLabelHTML)));this.$element.on("shown.bs.dropdown",function(){var a=b(this);b(document).on("keypress.fu.selectlist",function(e){var d=String.fromCharCode(e.which);a.find("li").each(function(a,c){if(b(c).text().charAt(0).toLowerCase()===d)return b(c).children("a").focus(),!1})})});this.$element.on("hide.bs.dropdown",function(){b(document).off("keypress.fu.selectlist")})};g.prototype={constructor:g,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},
doSelect:function(a){this.$selectedItem=a;this.$hiddenField.val(this.$selectedItem.attr("data-value"));this.$label.html(b(this.$selectedItem.children()[0]).html());this.$element.find("li").each(function(){a.is(b(this))?b(this).attr("data-selected",!0):b(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(a){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem);a.preventDefault();b(a.currentTarget).parent("li").is(".disabled, :disabled")||(b(a.target).parent().is(this.$selectedItem)||
this.itemChanged(a),this.$element.find(".dropdown-toggle").focus())},itemChanged:function(a){this.doSelect(b(a.target).closest("li"));a=this.selectedItem();this.$element.trigger("changed.fu.selectlist",a)},resize:function(){var a=0,d=0,c=b("<div/>").addClass("selectlist-sizer");b(document).find("html").hasClass("fuelux")?b(document.body).append(c):b(".fuelux:first").append(c);c.append(this.$element.clone());this.$element.find("a").each(function(){c.find(".selected-label").text(b(this).text());d=c.find(".selectlist").outerWidth();
d+=c.find(".sr-only").outerWidth();d>a&&(a=d)});1>=a||(this.$button.css("width",a),this.$dropdownMenu.css("width",a),c.remove())},selectedItem:function(){var a=this.$selectedItem.text();return b.extend({text:a},this.$selectedItem.data())},selectByText:function(a){var d=b([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||b(this).text()||"").toLowerCase()===(a||"").toLowerCase())return d=b(this),!1});this.doSelect(d)},selectByValue:function(a){this.selectBySelector('li[data-value="'+
a+'"]')},selectByIndex:function(a){this.selectBySelector("li:eq("+a+")")},selectBySelector:function(a){a=this.$element.find(a);this.doSelect(a)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]").eq(0);0===a.length&&(a=this.$element.find("li").has("a").eq(0));this.doSelect(a)},enable:function(){this.$element.removeClass("disabled");this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled");this.$button.addClass("disabled")}};g.prototype.getValue=
g.prototype.selectedItem;b.fn.selectlist=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=b(this),f=e.data("fu.selectlist"),l="object"===typeof a&&a;f||e.data("fu.selectlist",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.selectlist.defaults={emptyLabelHTML:'<li data-value=""><a href="#">No items</a></li>'};b.fn.selectlist.Constructor=g;b.fn.selectlist.noConflict=function(){b.fn.selectlist=k;return this};b(document).on("mousedown.fu.selectlist.data-api",
"[data-initialize=selectlist]",function(a){a=b(a.target).closest(".selectlist");a.data("fu.selectlist")||a.selectlist(a.data())});b(function(){b("[data-initialize=selectlist]").each(function(){var a=b(this);a.data("fu.selectlist")||a.selectlist(a.data())})})})(n);(function(b){var k=b.fn.spinbox,g=function(d,c){this.$element=b(d);this.$element.find(".btn").on("click",function(a){a.preventDefault()});this.options=b.extend({},b.fn.spinbox.defaults,c);this.options.step=this.$element.data("step")||this.options.step;
this.options.value<this.options.min?this.options.value=this.options.min:this.options.max<this.options.value&&(this.options.value=this.options.max);this.$input=this.$element.find(".spinbox-input");this.$input.on("focusout.fu.spinbox",this.$input,b.proxy(this.change,this));this.$element.on("keydown.fu.spinbox",this.$input,b.proxy(this.keydown,this));this.$element.on("keyup.fu.spinbox",this.$input,b.proxy(this.keyup,this));this.options.hold?(this.$element.on("mousedown.fu.spinbox",".spinbox-up",b.proxy(function(){this.startSpin(!0)},
this)),this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",b.proxy(this.stopSpin,this)),this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",b.proxy(this.stopSpin,this)),this.$element.on("mousedown.fu.spinbox",".spinbox-down",b.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click.fu.spinbox",".spinbox-up",b.proxy(function(){this.step(!0)},this)),this.$element.on("click.fu.spinbox",".spinbox-down",b.proxy(function(){this.step(!1)},this)));this.switches=
{count:1,enabled:!0};this.switches.speed="medium"===this.options.speed?300:"fast"===this.options.speed?100:500;this.options.defaultUnit=a(this.options.defaultUnit,this.options.units)?this.options.defaultUnit:"";this.unit=this.options.defaultUnit;this.lastValue=this.options.value;this.render();this.options.disabled&&this.disable()},a=function(a,c){var e=!1,h=a.toLowerCase();b.each(c,function(a,b){b=b.toLowerCase();if(h===b)return e=!0,!1});return e};g.prototype={constructor:g,destroy:function(){this.$element.remove();
this.$element.find("input").each(function(){b(this).attr("value",b(this).val())});return this.$element[0].outerHTML},render:function(){this.setValue(this.getDisplayValue())},change:function(){this.setValue(this.getDisplayValue());this.triggerChangedEvent()},stopSpin:function(){void 0!==this.switches.timeout&&(clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent())},triggerChangedEvent:function(){var a=this.getValue();a!==this.lastValue&&(this.lastValue=a,this.$element.trigger("changed.fu.spinbox",
a))},startSpin:function(a){if(!this.options.disabled){var c=this.switches.count;1===c?(this.step(a),c=1):c=3>c?1.5:8>c?2.5:4;this.switches.timeout=setTimeout(b.proxy(function(){this.iterate(a)},this),this.switches.speed/c);this.switches.count++}},iterate:function(a){this.step(a);this.startSpin(a)},step:function(a){this.setValue(this.getDisplayValue());a=a?this.options.value+this.options.step:this.options.value-this.options.step;a=a.toFixed(5);this.setValue(a+this.unit)},getDisplayValue:function(){var a=
this.parseInput(this.$input.val());return a?a:this.options.value},setDisplayValue:function(a){this.$input.val(a)},getValue:function(){var a=this.options.value;"."!==this.options.decimalMark&&(a=(a+"").split(".").join(this.options.decimalMark));return a+this.unit},setValue:function(b){"."!==this.options.decimalMark&&(b=this.parseInput(b));if("number"!==typeof b){var c=b.replace(/[0-9.-]/g,"");this.unit=a(c,this.options.units)?c:this.options.defaultUnit}b=this.getIntValue(b);if(isNaN(b)&&!isFinite(b))return this.setValue(this.options.value);
isNaN(parseFloat(b))||(b>this.options.max?b=this.options.cycle?this.options.min:this.options.max:b<this.options.min&&(b=this.options.cycle?this.options.max:this.options.min),this.options.limitToStep&&this.options.step&&(c=this.options.step,b=Math.round(b/c)*c,b>this.options.max?b-=this.options.step:b<this.options.min&&(b+=this.options.step)));this.options.value=b;b+=this.unit;"."!==this.options.decimalMark&&(b=(b+"").split(".").join(this.options.decimalMark));this.setDisplayValue(b);return this},
value:function(a){return a||0===a?this.setValue(a):this.getValue()},parseInput:function(a){return a=(a+"").split(this.options.decimalMark).join(".")},getIntValue:function(a){a="undefined"===typeof a?this.getValue():a;if("undefined"!==typeof a)return"string"===typeof a&&(a=this.parseInput(a)),a=parseFloat(a,10)},disable:function(){this.options.disabled=!0;this.$element.addClass("disabled");this.$input.attr("disabled","");this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=
!1;this.$element.removeClass("disabled");this.$input.removeAttr("disabled");this.$element.find("button").removeClass("disabled")},keydown:function(a){a=a.keyCode;38===a?this.step(!0):40===a?this.step(!1):13===a&&this.change()},keyup:function(a){a=a.keyCode;38!==a&&40!==a||this.triggerChangedEvent()}};b.fn.spinbox=function(a){var c=Array.prototype.slice.call(arguments,1),e,h=this.each(function(){var h=b(this),l=h.data("fu.spinbox"),p="object"===typeof a&&a;l||h.data("fu.spinbox",l=new g(this,p));"string"===
typeof a&&(e=l[a].apply(l,c))});return void 0===e?h:e};b.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:!0,speed:"medium",disabled:!1,cycle:!1,units:[],decimalMark:".",defaultUnit:"",limitToStep:!1};b.fn.spinbox.Constructor=g;b.fn.spinbox.noConflict=function(){b.fn.spinbox=k;return this};b(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(a){a=b(a.target).closest(".spinbox");a.data("fu.spinbox")||a.spinbox(a.data())});b(function(){b("[data-initialize=spinbox]").each(function(){var a=
b(this);a.data("fu.spinbox")||a.spinbox(a.data())})})})(n);(function(b){function k(a,b){a.addClass("tree-selected");"item"===a.data("type")&&b.hasClass("fueluxicon-bullet")&&b.removeClass("fueluxicon-bullet").addClass("glyphicon-ok")}function g(a,b){a.removeClass("tree-selected");"item"===a.data("type")&&b.hasClass("glyphicon-ok")&&b.removeClass("glyphicon-ok").addClass("fueluxicon-bullet")}function a(a,c,d){b.each(d.$elements,function(a,e){a=b(e);a[0]!==c.$element[0]&&d.dataForEvent.push(b(a).data())});
c.$element.hasClass("tree-selected")?(g(c.$element,c.$icon),d.eventType="deselected"):(k(c.$element,c.$icon),d.eventType="selected",d.dataForEvent.push(c.elementData))}var d=b.fn.tree,c=function(a,c){this.$element=b(a);this.options=b.extend({},b.fn.tree.defaults,c);if(this.options.itemSelect)this.$element.on("click.fu.tree",".tree-item",b.proxy(function(a){this.selectItem(a.currentTarget)},this));this.$element.on("click.fu.tree",".tree-branch-name",b.proxy(function(a){this.toggleFolder(a.currentTarget)},
this));this.$element.on("click.fu.tree",".tree-overflow",b.proxy(function(a){this.populate(b(a.currentTarget))},this));this.options.folderSelect&&(this.$element.addClass("tree-folder-select"),this.$element.off("click.fu.tree",".tree-branch-name"),this.$element.on("click.fu.tree",".icon-caret",b.proxy(function(a){this.toggleFolder(b(a.currentTarget).parent())},this)),this.$element.on("click.fu.tree",".tree-branch-name",b.proxy(function(a){this.selectFolder(b(a.currentTarget))},this)));this.render()};
c.prototype={constructor:c,deselectAll:function(a){a=a||this.$element;a=b(a).find(".tree-selected");a.each(function(a,c){g(b(c),b(c).find(".glyphicon"))});return a},destroy:function(){this.$element.find("li:not([data-template])").remove();this.$element.remove();return this.$element[0].outerHTML},render:function(){this.populate(this.$element)},populate:function(a,c){var d=this,l=a.hasClass("tree-overflow"),p=a.hasClass("tree")?a:a.parent(),m=p.hasClass("tree");l&&!m&&(p=p.parent());var g=p.data();
l&&(g.overflow=a.data());c=c||!1;l&&(m?a.replaceWith(p.find("> .tree-loader").remove()):a.remove());a=p.find(".tree-loader:last");!1===c&&a.removeClass("hide hidden");this.options.dataSource(g?g:{},function(a){b.each(a.data,function(a,c){var e;"folder"===c.type?(e=d.$element.find("[data-template=treebranch]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),e.data(c),e.find(".tree-branch-name > .tree-label").html(c.text||c.name)):"item"===c.type?(e=d.$element.find("[data-template=treeitem]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),
e.find(".tree-item-name > .tree-label").html(c.text||c.name),e.data(c)):"overflow"===c.type&&(e=d.$element.find("[data-template=treeoverflow]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),e.find(".tree-overflow-name > .tree-label").html(c.text||c.name),e.data(c));b.each(c.attr||c.dataAttributes||[],function(a,b){switch(a){case "cssClass":case "class":case "className":e.addClass(b);break;case "data-icon":e.find(".icon-item").removeClass().addClass("icon-item "+
b);e.attr(a,b);break;case "id":e.attr(a,b);e.attr("aria-labelledby",b+"-label");e.find(".tree-branch-name > .tree-label").attr("id",b+"-label");break;default:e.attr(a,b)}});m?p.append(e):p.find(".tree-branch-children:eq(0)").append(e)});p.find(".tree-loader").addClass("hidden");d.$element.trigger("loaded.fu.tree",p)})},selectTreeNode:function(c,d){var f={};f.$element=b(c);c={};c.$elements=this.$element.find(".tree-selected");c.dataForEvent=[];"folder"===d?(f.$element=f.$element.closest(".tree-branch"),
f.$icon=f.$element.find(".icon-folder")):f.$icon=f.$element.find(".icon-item");f.elementData=f.$element.data();this.options.multiSelect?a(this,f,c):c.$elements[0]!==f.$element[0]?(this.deselectAll(this.$element),k(f.$element,f.$icon),c.eventType="selected",c.dataForEvent=[f.elementData]):(g(f.$element,f.$icon),c.eventType="deselected",c.dataForEvent=[]);this.$element.trigger(c.eventType+".fu.tree",{target:f.elementData,selected:c.dataForEvent});f.$element.trigger("updated.fu.tree",{selected:c.dataForEvent,
item:f.$element,eventType:c.eventType})},discloseFolder:function(a){a=b(a).closest(".tree-branch");var c=a.find(".tree-branch-children"),d=c.eq(0);a.addClass("tree-open");a.attr("aria-expanded","true");d.removeClass("hide hidden");a.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-close").addClass("glyphicon-folder-open");c.children().length||this.populate(c);this.$element.trigger("disclosedFolder.fu.tree",a.data())},closeFolder:function(a){a=b(a).closest(".tree-branch");
var c=a.find(".tree-branch-children").eq(0);a.removeClass("tree-open");a.attr("aria-expanded","false");c.addClass("hidden");a.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-open").addClass("glyphicon-folder-close");this.options.cacheItems||c.empty();this.$element.trigger("closed.fu.tree",a.data())},toggleFolder:function(a){var c=b(a);c.find(".glyphicon-folder-close").length?this.discloseFolder(a):c.find(".glyphicon-folder-open").length&&this.closeFolder(a)},selectFolder:function(a){this.options.folderSelect&&
this.selectTreeNode(a,"folder")},selectItem:function(a){this.options.itemSelect&&this.selectTreeNode(a,"item")},selectedItems:function(){var a=this.$element.find(".tree-selected"),c=[];b.each(a,function(a,e){c.push(b(e).data())});return c},collapse:function(){var a=this,b=[];a.$element.on("closed.fu.tree",function l(c,d){b.push(d);0===a.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").length&&(a.$element.trigger("closedAll.fu.tree",{tree:a.$element,reportedClosed:b}),a.$element.off("loaded.fu.tree",
a.$element,l))});a.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").each(function(){a.closeFolder(this)})},discloseVisible:function(){var a=this,c=a.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')"),d=[];a.$element.on("loaded.fu.tree",function p(b,g){d.push(g);d.length===c.length&&(a.$element.trigger("disclosedVisible.fu.tree",{tree:a.$element,reportedOpened:d}),a.$element.off("loaded.fu.tree",a.$element,p))});a.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").each(function(){a.discloseFolder(b(this).find(".tree-branch-header"))})},
discloseAll:function(){var a=this;"undefined"===typeof a.$element.data("disclosures")&&a.$element.data("disclosures",0);var b=1<=a.options.disclosuresUpperLimit&&a.$element.data("disclosures")>=a.options.disclosuresUpperLimit;if(0!==a.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").length){if(b&&(a.$element.trigger("exceededDisclosuresLimit.fu.tree",{tree:a.$element,disclosures:a.$element.data("disclosures")}),!a.$element.data("ignore-disclosures-limit")))return;a.$element.data("disclosures",
a.$element.data("disclosures")+1);a.$element.one("disclosedVisible.fu.tree",function(){a.discloseAll()});a.discloseVisible()}else if(a.$element.trigger("disclosedAll.fu.tree",{tree:a.$element,disclosures:a.$element.data("disclosures")}),!a.options.cacheItems)a.$element.one("closeAll.fu.tree",function(){a.$element.data("disclosures",0)})},refreshFolder:function(a){a=a.closest(".tree-branch");var b=a.find(".tree-branch-children");b.eq(0).empty();a.hasClass("tree-open")?this.populate(b,!1):this.populate(b,
!0);this.$element.trigger("refreshedFolder.fu.tree",a.data())}};c.prototype.closeAll=c.prototype.collapse;c.prototype.openFolder=c.prototype.discloseFolder;c.prototype.getValue=c.prototype.selectedItems;b.fn.tree=function(a){var d=Array.prototype.slice.call(arguments,1),f,l=this.each(function(){var l=b(this),m=l.data("fu.tree"),g="object"===typeof a&&a;m||l.data("fu.tree",m=new c(this,g));"string"===typeof a&&(f=m[a].apply(m,d))});return void 0===f?l:f};b.fn.tree.defaults={dataSource:function(a,b){},
multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,disclosuresUpperLimit:0};b.fn.tree.Constructor=c;b.fn.tree.noConflict=function(){b.fn.tree=d;return this}})(n);(function(b){var k=b.fn.wizard,g=function(a,d){this.$element=b(a);this.options=b.extend({},b.fn.wizard.defaults,d);this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")?!0:this.options.disablePreviousStep;this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".steps li").length;
this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");0===this.$element.children(".steps-container").length&&(this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup'));a=this.$nextBtn.children().detach();this.nextText=b.trim(this.$nextBtn.text());this.$nextBtn.append(a);
this.$prevBtn.on("click.fu.wizard",b.proxy(this.previous,this));this.$nextBtn.on("click.fu.wizard",b.proxy(this.next,this));this.$element.on("click.fu.wizard","li.complete",b.proxy(this.stepclicked,this));this.selectedItem(this.options.selectedItem);this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))};g.prototype={constructor:g,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},addSteps:function(a){var d=
[].slice.call(arguments).slice(1),c=this.$element.find(".steps"),e=this.$element.find(".step-content"),h,f,l,p,m,g;a=-1===a||a>this.numSteps+1?this.numSteps+1:a;d[0]instanceof Array&&(d=d[0]);m=c.find("li:nth-child("+a+")");p=e.find(".step-pane:nth-child("+a+")");1>m.length&&(m=null);h=0;for(f=d.length;h<f;h++)g=b('<li data-step="'+a+'"><span class="badge badge-info"></span></li>'),g.append(d[h].label||"").append('<span class="chevron"></span>'),g.find(".badge").append(d[h].badge||a),l=b('<div class="step-pane" data-step="'+
a+'"></div>'),l.append(d[h].pane||""),m?(m.before(g),p.before(l)):(c.append(g),e.append(l)),a++;this.syncSteps();this.numSteps=c.find("li").length;this.setState()},removeSteps:function(a,d){var c="nextAll",e=0,h=this.$element.find(".steps"),f=this.$element.find(".step-content");d=void 0!==d?d:1;a>h.find("li").length?a=h.find("li:last"):(a=h.find("li:nth-child("+a+")").prev(),1>a.length&&(c="children",a=h));a[c]().each(function(){var a=b(this),c=a.attr("data-step");if(e<d)a.remove(),f.find('.step-pane[data-step="'+
c+'"]:first').remove();else return!1;e++});this.syncSteps();this.numSteps=h.find("li").length;this.setState()},setState:function(){var a=1<this.currentStep,d=1===this.currentStep,c=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",!0===d||!1===a);if(a=this.$nextBtn.attr("data-last"))this.lastText=a,a=this.nextText,!0===c?(a=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete"),c=this.$nextBtn.children().detach(),this.$nextBtn.text(a).append(c);
c=this.$element.find(".steps li");c.removeClass("active").removeClass("complete");c.find("span.badge").removeClass("badge-info").removeClass("badge-success");c=this.$element.find(".steps li:lt("+(this.currentStep-1)+")");c.addClass("complete");c.find("span.badge").addClass("badge-success");a=this.$element.find(".steps li:eq("+(this.currentStep-1)+")");a.addClass("active");a.find("span.badge").addClass("badge-info");c=this.$element.find(".step-content");a=a.attr("data-step");c.find(".step-pane").removeClass("active");
c.find('.step-pane[data-step="'+a+'"]:first').addClass("active");this.$element.find(".steps").first().attr("style","margin-left: 0");var e=0;this.$element.find(".steps > li").each(function(){e+=b(this).outerWidth()});c=0;c=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width();e>c&&(c=e-c,this.$element.find(".steps").first().attr("style","margin-left: -"+c+"px"),200>this.$element.find("li.active").first().position().left&&
(c+=this.$element.find("li.active").first().position().left-200,1>c?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+c+"px")));"undefined"!==typeof this.initialized&&(c=b.Event("changed.fu.wizard"),this.$element.trigger(c,{step:this.currentStep}));this.initialized=!0},stepclicked:function(a){a=b(a.currentTarget);a=this.$element.find(".steps li").index(a);if(!(a<this.currentStep&&this.options.disablePreviousStep)){var d=
b.Event("stepclicked.fu.wizard");this.$element.trigger(d,{step:a+1});d.isDefaultPrevented()||(this.currentStep=a+1,this.setState())}},syncSteps:function(){var a=1,d=this.$element.find(".steps"),c=this.$element.find(".step-content");d.children().each(function(){var e=b(this),d=e.find(".badge"),f=e.attr("data-step");isNaN(parseInt(d.html(),10))||d.html(a);e.attr("data-step",a);c.find('.step-pane[data-step="'+f+'"]:last').attr("data-step",a);a++})},previous:function(){if(!this.options.disablePreviousStep&&
1!==this.currentStep){var a=b.Event("actionclicked.fu.wizard");this.$element.trigger(a,{step:this.currentStep,direction:"previous"});a.isDefaultPrevented()||(--this.currentStep,this.setState(),this.$prevBtn.is(":focus")&&(a=this.$element.find(".active").find("input, select, textarea")[0],"undefined"!==typeof a?b(a).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()))}},next:function(){var a=b.Event("actionclicked.fu.wizard");this.$element.trigger(a,
{step:this.currentStep,direction:"next"});a.isDefaultPrevented()||(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus")&&(a=this.$element.find(".active").find("input, select, textarea")[0],"undefined"!==typeof a?b(a).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()))},selectedItem:function(a){a?(a=a.step||-1,a=Number(this.$element.find('.steps li[data-name="'+
a+'"]').first().attr("data-step"))||Number(a),1<=a&&a<=this.numSteps?(this.currentStep=a,this.setState()):(a=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(a)||(this.currentStep=parseInt(a,10),this.setState())),a=this):(a={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(a.stepname=this.$element.find(".steps li.active:first").attr("data-name")));return a}};b.fn.wizard=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=
b(this),f=e.data("fu.wizard"),l="object"===typeof a&&a;f||e.data("fu.wizard",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}};b.fn.wizard.Constructor=g;b.fn.wizard.noConflict=function(){b.fn.wizard=k;return this};b(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(a){a=b(a.target).closest(".wizard");a.data("fu.wizard")||a.wizard(a.data())});b(function(){b("[data-initialize=wizard]").each(function(){var a=
b(this);a.data("fu.wizard")||a.wizard(a.data())})})})(n);(function(b){var k=b.fn.infinitescroll,g=function(a,d){this.$element=b(a);this.$element.addClass("infinitescroll");this.options=b.extend({},b.fn.infinitescroll.defaults,d);this.curScrollTop=this.$element.scrollTop();this.curPercentage=this.getPercentage();this.fetchingData=!1;this.$element.on("scroll.fu.infinitescroll",b.proxy(this.onScroll,this));this.onScroll()};g.prototype={constructor:g,destroy:function(){this.$element.remove();this.$element.empty();
return this.$element[0].outerHTML},disable:function(){this.$element.off("scroll.fu.infinitescroll")},enable:function(){this.$element.on("scroll.fu.infinitescroll",b.proxy(this.onScroll,this))},end:function(a){var d=b('<div class="infinitescroll-end"></div>');a?d.append(a):d.append("---------");this.$element.append(d);this.disable()},getPercentage:function(){var a="border-box"===this.$element.css("box-sizing")?this.$element.outerHeight():this.$element.height(),b=this.$element.get(0).scrollHeight;return b>
a?a/(b-this.curScrollTop)*100:0},fetchData:function(a){var d=b('<div class="infinitescroll-load"></div>'),c=this,e,h=function(){var a={percentage:c.curPercentage,scrollTop:c.curScrollTop},e=b('<div class="loader"></div>');d.append(e);e.loader();c.options.dataSource&&c.options.dataSource(a,function(a){d.remove();a.content&&c.$element.append(a.content);a.end&&(a=!0!==a.end?a.end:void 0,c.end(a));c.fetchingData=!1})};this.fetchingData=!0;this.$element.append(d);this.options.hybrid&&!0!==a?(e=b('<button type="button" class="btn btn-primary"></button>'),
"object"===typeof this.options.hybrid?e.append(this.options.hybrid.label):e.append('<span class="glyphicon glyphicon-repeat"></span>'),e.on("click.fu.infinitescroll",function(){e.remove();h()}),d.append(e)):h()},onScroll:function(a){this.curScrollTop=this.$element.scrollTop();this.curPercentage=this.getPercentage();!this.fetchingData&&this.curPercentage>=this.options.percentage&&this.fetchData()}};b.fn.infinitescroll=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=
b(this),f=e.data("fu.infinitescroll"),l="object"===typeof a&&a;f||e.data("fu.infinitescroll",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.infinitescroll.defaults={dataSource:null,hybrid:!1,percentage:95};b.fn.infinitescroll.Constructor=g;b.fn.infinitescroll.noConflict=function(){b.fn.infinitescroll=k;return this}})(n);(function(b){var k=b.fn.pillbox,g=function(a,d){this.$element=b(a);this.$moreCount=this.$element.find(".pillbox-more-count");this.$pillGroup=
this.$element.find(".pill-group");this.$addItem=this.$element.find(".pillbox-add-item");this.$addItemWrap=this.$addItem.parent();this.$suggest=this.$element.find(".suggest");this.$pillHTML='<li class="btn btn-default pill">\t<span></span>\t<span class="glyphicon glyphicon-close">\t\t<span class="sr-only">Remove</span>\t</span></li>';this.options=b.extend({},b.fn.pillbox.defaults,d);-1===this.options.readonly?void 0!==this.$element.attr("data-readonly")&&this.readonly(!0):this.options.readonly&&this.readonly(!0);
this.acceptKeyCodes=this._generateObject(this.options.acceptKeyCodes);this.$element.on("click.fu.pillbox",".pill-group > .pill",b.proxy(this.itemClicked,this));this.$element.on("click.fu.pillbox",b.proxy(this.inputFocus,this));this.$element.on("keydown.fu.pillbox",".pillbox-add-item",b.proxy(this.inputEvent,this));if(this.options.onKeyDown)this.$element.on("mousedown.fu.pillbox",".suggest > li",b.proxy(this.suggestionClick,this));this.options.edit&&(this.$element.addClass("pills-editable"),this.$element.on("blur.fu.pillbox",
".pillbox-add-item",b.proxy(this.cancelEdit,this)))};g.prototype={constructor:g,destroy:function(){this.$element.remove();return this.$element[0].outerHTML},items:function(){var a=this;return this.$pillGroup.children(".pill").map(function(){return a.getItemData(b(this))}).get()},itemClicked:function(a){var d=b(a.target);a.preventDefault();a.stopPropagation();this._closeSuggestions();if(d.hasClass("pill"))a=d;else if(a=d.parent(),void 0===this.$element.attr("data-readonly")){if(d.hasClass("glyphicon-close")){if(this.options.onRemove)this.options.onRemove(this.getItemData(a,
{el:a}),b.proxy(this._removeElement,this));else this._removeElement(this.getItemData(a,{el:a}));return!1}if(this.options.edit){if(a.find(".pillbox-list-edit").length)return!1;this.openEdit(a)}}this.$element.trigger("clicked.fu.pillbox",this.getItemData(a))},readonly:function(a){a?this.$element.attr("data-readonly","readonly"):this.$element.removeAttr("data-readonly");this.options.truncate&&this.truncate(a)},suggestionClick:function(a){var d=b(a.currentTarget),c={text:d.html(),value:d.data("value")};
a.preventDefault();this.$addItem.val("");d.data("attr")&&(c.attr=JSON.parse(d.data("attr")));c.data=d.data("data");this.addItems(c,!0);this._closeSuggestions()},itemCount:function(){return this.$pillGroup.children(".pill").length},addItems:function(){var a=this,d,c,e;!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(d=[].slice.call(arguments).slice(0),e=d[1]&&!d[1].text):(d=[].slice.call(arguments).slice(1),c=arguments[0]);d[0]instanceof Array&&(d=d[0]);if(d.length)if(b.each(d,function(b,
c){var e={text:c.text,value:c.value?c.value:c.text,el:a.$pillHTML};c.attr&&(e.attr=c.attr);c.data&&(e.data=c.data);d[b]=e}),this.options.edit&&this.currentEdit&&(d[0].el=this.currentEdit.wrap("<div></div>").parent().html()),e&&d.pop(1),a.options.onAdd&&e)if(this.options.edit&&this.currentEdit)a.options.onAdd(d[0],b.proxy(a.saveEdit,this));else a.options.onAdd(d[0],b.proxy(a.placeItems,this));else this.options.edit&&this.currentEdit?a.saveEdit(d):c?a.placeItems(c,d):a.placeItems(d,e)},removeItems:function(a,
b){var c,e;if(a)for(b=b?b:1,c=0;c<b;c++)if(e=this.$pillGroup.find("> .pill:nth-child("+a+")"))e.remove();else break;else this.$pillGroup.find(".pill").remove(),this._removePillTrigger({method:"removeAll"})},placeItems:function(){var a=[],d,c,e;!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(d=[].slice.call(arguments).slice(0),e=d[1]&&!d[1].text):(d=[].slice.call(arguments).slice(1),c=arguments[0]);d[0]instanceof Array&&(d=d[0]);d.length&&(b.each(d,function(c,e){var d=b(e.el);d.attr("data-value",
e.value);d.find("span:first").html(e.text);e.attr&&b.each(e.attr,function(a,b){"cssClass"===a||"class"===a?d.addClass(b):d.attr(a,b)});e.data&&d.data("data",e.data);a.push(d)}),0<this.$pillGroup.children(".pill").length?c?(c=this.$pillGroup.find(".pill:nth-child("+c+")"),c.length?c.before(a):this.$pillGroup.children(".pill:last").after(a)):this.$pillGroup.children(".pill:last").after(a):this.$pillGroup.prepend(a),e&&this.$element.trigger("added.fu.pillbox",{text:d[0].text,value:d[0].value}))},inputEvent:function(a){var b=
this,c=this.$addItem.val(),e,h,f;if(this.acceptKeyCodes[a.keyCode]){this.options.onKeyDown&&this._isSuggestionsOpen()&&(f=this.$suggest.find(".pillbox-suggest-sel"),f.length&&(c=f.html(),e=f.data("value"),h=f.data("attr")));if(c.replace(/[ ]*\,[ ]*/,"").match(/\S/)||this.options.allowEmptyPills&&c.length)this._closeSuggestions(),this.$addItem.hide(),h?this.addItems({text:c,value:e,attr:JSON.parse(h)},!0):this.addItems({text:c,value:e},!0),setTimeout(function(){b.$addItem.show().val("").attr({size:10})},
0);a.preventDefault();return!0}if(8===a.keyCode||46===a.keyCode){if(!c.length){a.preventDefault();if(this.options.edit&&this.currentEdit)return this.cancelEdit(),!0;this._closeSuggestions();c=this.$pillGroup.children(".pill:last");c.hasClass("pillbox-highlight")?this._removeElement(this.getItemData(c,{el:c})):c.addClass("pillbox-highlight");return!0}}else 10<c.length&&this.$addItem.width()<this.$pillGroup.width()-6&&this.$addItem.attr({size:c.length+3});this.$pillGroup.find(".pill").removeClass("pillbox-highlight");
if(this.options.onKeyDown){if(9===a.keyCode||38===a.keyCode||40===a.keyCode)return this._isSuggestionsOpen()&&this._keySuggestions(a),!0;this.callbackId=a.timeStamp;this.options.onKeyDown({event:a,value:c},function(c){b._openSuggestions(a,c)})}},openEdit:function(a){var b=a.index()+1,c=this.$addItemWrap.detach().hide();this.$pillGroup.find(".pill:nth-child("+b+")").before(c);this.currentEdit=a.detach();c.addClass("editing");this.$addItem.val(a.find("span:first").html());c.show();this.$addItem.focus().select()},
cancelEdit:function(a){if(!this.currentEdit)return!1;this._closeSuggestions();a&&this.$addItemWrap.before(this.currentEdit);this.currentEdit=!1;a=this.$addItemWrap.detach();a.removeClass("editing");this.$addItem.val("");this.$pillGroup.append(a)},saveEdit:function(a){a=a[0]?a[0]:a;this.currentEdit=b(a.el);this.currentEdit.data("value",a.value);this.currentEdit.find("span:first").html(a.text);this.$addItemWrap.hide();this.$addItemWrap.before(this.currentEdit);this.currentEdit=!1;this.$addItem.val("");
this.$addItemWrap.removeClass("editing");this.$pillGroup.append(this.$addItemWrap.detach().show());this.$element.trigger("edited.fu.pillbox",{value:a.value,text:a.text})},removeBySelector:function(){var a=[].slice.call(arguments).slice(0),d=this;b.each(a,function(a,b){d.$pillGroup.find(b).remove()});this._removePillTrigger({method:"removeBySelector",removedSelectors:a})},removeByValue:function(){var a=[].slice.call(arguments).slice(0),d=this;b.each(a,function(a,b){d.$pillGroup.find('> .pill[data-value="'+
b+'"]').remove()});this._removePillTrigger({method:"removeByValue",removedValues:a})},removeByText:function(){var a=[].slice.call(arguments).slice(0),d=this;b.each(a,function(a,b){d.$pillGroup.find('> .pill:contains("'+b+'")').remove()});this._removePillTrigger({method:"removeByText",removedText:a})},truncate:function(a){var d=this,c,e,h,f,l;this.$element.removeClass("truncate");this.$addItemWrap.removeClass("truncated");this.$pillGroup.find(".pill").removeClass("truncated");a&&(this.$element.addClass("truncate"),
c=this.$element.width(),e=!1,h=0,f=this.$pillGroup.find(".pill").length,l=0,this.$pillGroup.find(".pill").each(function(){var a=b(this);e?a.addClass("truncated"):(h++,d.$moreCount.text(f-h),l+a.outerWidth(!0)+d.$addItemWrap.outerWidth(!0)<=c?l+=a.outerWidth(!0):(d.$moreCount.text(f-h+1),a.addClass("truncated"),e=!0))}),h===f&&this.$addItemWrap.addClass("truncated"))},inputFocus:function(a){this.$element.find(".pillbox-add-item").focus()},getItemData:function(a,d){return b.extend({text:a.find("span:first").html()},
a.data(),d)},_removeElement:function(a){a.el.remove();delete a.el;this.$element.trigger("removed.fu.pillbox",a)},_removePillTrigger:function(a){this.$element.trigger("removed.fu.pillbox",a)},_generateObject:function(a){var d={};b.each(a,function(a,b){d[b]=!0});return d},_openSuggestions:function(a,d){var c=b("<ul>");if(this.callbackId!==a.timeStamp)return!1;d.data&&d.data.length&&(b.each(d.data,function(a,d){a=b('<li data-value="'+(d.value?d.value:d.text)+'">'+d.text+"</li>");d.attr&&a.data("attr",
JSON.stringify(d.attr));d.data&&a.data("data",d.data);c.append(a)}),this.$suggest.html("").append(c.children()),b(document.body).trigger("suggested.fu.pillbox",this.$suggest))},_closeSuggestions:function(){this.$suggest.html("").parent().removeClass("open")},_isSuggestionsOpen:function(){return this.$suggest.parent().hasClass("open")},_keySuggestions:function(a){var b=this.$suggest.find("li.pillbox-suggest-sel"),c=38===a.keyCode;a.preventDefault();b.length?(a=c?b.prev():b.next(),a.length||(a=c?this.$suggest.find("li:last"):
this.$suggest.find("li:first")),a&&(a.addClass("pillbox-suggest-sel"),b.removeClass("pillbox-suggest-sel"))):(b=this.$suggest.find("li:first"),b.addClass("pillbox-suggest-sel"))}};g.prototype.getValue=g.prototype.items;b.fn.pillbox=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=b(this),f=e.data("fu.pillbox"),l="object"===typeof a&&a;f||e.data("fu.pillbox",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.pillbox.defaults=
{onAdd:void 0,onRemove:void 0,onKeyDown:void 0,edit:!1,readonly:-1,truncate:!1,acceptKeyCodes:[13,188],allowEmptyPills:!1};b.fn.pillbox.Constructor=g;b.fn.pillbox.noConflict=function(){b.fn.pillbox=k;return this};b(document).on("mousedown.fu.pillbox.data-api","[data-initialize=pillbox]",function(a){a=b(a.target).closest(".pillbox");a.data("fu.pillbox")||a.pillbox(a.data())});b(function(){b("[data-initialize=pillbox]").each(function(){var a=b(this);a.data("fu.pillbox")||a.pillbox(a.data())})})})(n);
(function(b){var k=b.fn.repeater,g=function(a,d){var c=this,e;this.$element=b(a);this.$canvas=this.$element.find(".repeater-canvas");this.$count=this.$element.find(".repeater-count");this.$end=this.$element.find(".repeater-end");this.$filters=this.$element.find(".repeater-filters");this.$loader=this.$element.find(".repeater-loader");this.$pageSize=this.$element.find(".repeater-itemization .selectlist");this.$nextBtn=this.$element.find(".repeater-next");this.$pages=this.$element.find(".repeater-pages");
this.$prevBtn=this.$element.find(".repeater-prev");this.$primaryPaging=this.$element.find(".repeater-primaryPaging");this.$search=this.$element.find(".repeater-search").find(".search");this.$secondaryPaging=this.$element.find(".repeater-secondaryPaging");this.$start=this.$element.find(".repeater-start");this.$viewport=this.$element.find(".repeater-viewport");this.$views=this.$element.find(".repeater-views");this.currentPage=0;this.currentView=null;this.isDisabled=!1;this.infiniteScrollingCallback=
function(){};this.infiniteScrollingCont=null;this.infiniteScrollingEnabled=!1;this.infiniteScrollingEnd=null;this.infiniteScrollingOptions={};this.lastPageInput=0;this.options=b.extend({},b.fn.repeater.defaults,d);this.pageIncrement=0;this.resizeTimeout={};this.stamp=(new Date).getTime()+(Math.floor(100*Math.random())+1);this.storedDataSourceOpts=null;this.syncingViewButtonState=!1;this.viewOptions={};this.viewType=null;this.$filters.selectlist();this.$pageSize.selectlist();this.$primaryPaging.find(".combobox").combobox();
this.$search.search({searchOnKeyPress:this.options.searchOnKeyPress,allowCancel:this.options.allowCancel});this.$filters.on("changed.fu.selectlist",function(a,b){c.$element.trigger("filtered.fu.repeater",b);c.render({clearInfinite:!0,pageIncrement:null})});this.$nextBtn.on("click.fu.repeater",b.proxy(this.next,this));this.$pageSize.on("changed.fu.selectlist",function(a,b){c.$element.trigger("pageSizeChanged.fu.repeater",b);c.render({pageIncrement:null})});this.$prevBtn.on("click.fu.repeater",b.proxy(this.previous,
this));this.$primaryPaging.find(".combobox").on("changed.fu.combobox",function(a,b){c.pageInputChange(b.text,b)});this.$search.on("searched.fu.search cleared.fu.search",function(a,b){c.$element.trigger("searchChanged.fu.repeater",b);c.render({clearInfinite:!0,pageIncrement:null})});this.$search.on("canceled.fu.search",function(a,b){c.$element.trigger("canceled.fu.repeater",b);c.render({clearInfinite:!0,pageIncrement:null})});this.$secondaryPaging.on("blur.fu.repeater",function(a){c.pageInputChange(c.$secondaryPaging.val())});
this.$secondaryPaging.on("keyup",function(a){13===a.keyCode&&c.pageInputChange(c.$secondaryPaging.val())});this.$views.find("input").on("change.fu.repeater",b.proxy(this.viewChanged,this));b(window).on("resize.fu.repeater."+this.stamp,function(a){clearTimeout(c.resizeTimeout);c.resizeTimeout=setTimeout(function(){c.resize();c.$element.trigger("resized.fu.repeater")},75)});this.$loader.loader();this.$loader.loader("pause");-1!==this.options.defaultView?e=this.options.defaultView:(a=this.$views.find("label.active input"),
e=0<a.length?a.val():"list");this.setViewOptions(e);this.initViewTypes(function(){c.resize();c.$element.trigger("resized.fu.repeater");c.render({changeView:e})})};g.prototype={constructor:g,clear:function(a){function d(a){var c=[];a.children().each(function(){var a=b(this),e=a.attr("data-preserve");"deep"===e?(a.detach(),c.push(a)):"shallow"===e&&(d(a),a.detach(),c.push(a))});a.empty();a.append(c)}var c,e;a=a||{};a.preserve?this.infiniteScrollingEnabled&&!a.clearInfinite||d(this.$canvas):this.$canvas.empty();
c=void 0!==a.viewChanged?a.viewChanged:!1;e=b.fn.repeater.viewTypes[this.viewType]||{};!c&&e.cleared&&e.cleared.call(this,{options:a})},clearPreservedDataSourceOptions:function(){this.storedDataSourceOpts=null},destroy:function(){var a;this.$element.find("input").each(function(){b(this).attr("value",b(this).val())});this.$canvas.empty();a=this.$element[0].outerHTML;this.$element.find(".combobox").combobox("destroy");this.$element.find(".selectlist").selectlist("destroy");this.$element.find(".search").search("destroy");
this.infiniteScrollingEnabled&&b(this.infiniteScrollingCont).infinitescroll("destroy");this.$element.remove();b(window).off("resize.fu.repeater."+this.stamp);return a},disable:function(){var a=b.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("disable");this.$filters.selectlist("disable");this.$views.find("label, input").addClass("disabled").attr("disabled","disabled");this.$pageSize.selectlist("disable");this.$primaryPaging.find(".combobox").combobox("disable");this.$secondaryPaging.attr("disabled",
"disabled");this.$prevBtn.attr("disabled","disabled");this.$nextBtn.attr("disabled","disabled");a.enabled&&a.enabled.call(this,{status:!1});this.isDisabled=!0;this.$element.addClass("disabled");this.$element.trigger("disabled.fu.repeater")},enable:function(){var a=b.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("enable");this.$filters.selectlist("enable");this.$views.find("label, input").removeClass("disabled").removeAttr("disabled");this.$pageSize.selectlist("enable");this.$primaryPaging.find(".combobox").combobox("enable");
this.$secondaryPaging.removeAttr("disabled");this.$prevBtn.hasClass("page-end")||this.$prevBtn.removeAttr("disabled");this.$nextBtn.hasClass("page-end")||this.$nextBtn.removeAttr("disabled");this.$prevBtn.hasClass("page-end")&&this.$nextBtn.hasClass("page-end")&&this.$primaryPaging.combobox("disable");0!==parseInt(this.$count.html())?this.$pageSize.selectlist("enable"):this.$pageSize.selectlist("disable");a.enabled&&a.enabled.call(this,{status:!0});this.isDisabled=!1;this.$element.removeClass("disabled");
this.$element.trigger("enabled.fu.repeater")},getDataOptions:function(a){var d={},c={},e;a=a||{};c.filter=0<this.$filters.length?this.$filters.selectlist("selectedItem"):{text:"All",value:"all"};c.view=this.currentView;this.infiniteScrollingEnabled||(c.pageSize=0<this.$pageSize.length?parseInt(this.$pageSize.selectlist("selectedItem").value,10):25);void 0!==a.pageIncrement&&(this.currentPage=null===a.pageIncrement?0:this.currentPage+a.pageIncrement);c.pageIndex=this.currentPage;e=0<this.$search.length?
this.$search.find("input").val():"";""!==e&&(c.search=e);a.dataSourceOptions&&(d=a.dataSourceOptions,a.preserveDataSourceOptions&&(this.storedDataSourceOpts=this.storedDataSourceOpts?b.extend(this.storedDataSourceOpts,d):d));this.storedDataSourceOpts&&(d=b.extend(this.storedDataSourceOpts,d));a=b.fn.repeater.viewTypes[this.viewType]||{};(a=a.dataOptions)?(a=a.call(this,c),c=b.extend(a,d)):c=b.extend(c,d);return c},infiniteScrolling:function(a,b){var c=this.$element.find(".repeater-footer"),e=this.$element.find(".repeater-viewport");
b=b||{};a?(this.infiniteScrollingEnabled=!0,this.infiniteScrollingEnd=b.end,delete b.dataSource,delete b.end,this.infiniteScrollingOptions=b,e.css({height:e.height()+c.outerHeight()}),c.hide()):(a=this.infiniteScrollingCont,b=a.data(),delete b.infinitescroll,a.off("scroll"),a.removeClass("infinitescroll"),this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},e.css({height:e.height()-c.outerHeight()}),c.show())},infiniteScrollPaging:function(a,
b){b=!0!==this.infiniteScrollingEnd?this.infiniteScrollingEnd:void 0;var c=a.page,e=a.pages;this.currentPage=void 0!==c?c:NaN;(!0===a.end||this.currentPage+1>=e)&&this.infiniteScrollingCont.infinitescroll("end",b)},initInfiniteScrolling:function(){var a=this.$canvas.find('[data-infinite="true"]:first'),d,c,a=1>a.length?this.$canvas:a;a.data("fu.infinitescroll")?a.infinitescroll("enable"):(c=this,d=b.extend({},this.infiniteScrollingOptions),d.dataSource=function(a,b){c.infiniteScrollingCallback=b;
c.render({pageIncrement:1})},a.infinitescroll(d),this.infiniteScrollingCont=a)},initViewTypes:function(a){function d(b){e[b].initialize?e[b].initialize.call(c,{},function(){b++;b<f?d(b):a()}):(b++,b<f?d(b):a())}var c=this,e=[],h,f;for(h in b.fn.repeater.viewTypes)e.push(b.fn.repeater.viewTypes[h]);f=e.length;0<f?d(0):a()},itemization:function(a){this.$count.html(void 0!==a.count?a.count:"?");this.$end.html(void 0!==a.end?a.end:"?");this.$start.html(void 0!==a.start?a.start:"?")},next:function(a){this.$nextBtn.attr("disabled",
"disabled");this.$prevBtn.attr("disabled","disabled");this.pageIncrement=1;this.$element.trigger("nextClicked.fu.repeater");this.render({pageIncrement:this.pageIncrement})},pageInputChange:function(a,b){var c;a!==this.lastPageInput&&(this.lastPageInput=a,a=parseInt(a,10)-1,c=a-this.currentPage,this.$element.trigger("pageChanged.fu.repeater",[a,b]),this.render({pageIncrement:c}))},pagination:function(a){var b=a.page;a=a.pages;var c,e,h;this.currentPage=void 0!==b?b:NaN;this.$primaryPaging.removeClass("active");
this.$secondaryPaging.removeClass("active");h=0===a?0:this.currentPage+1;if(a<=this.viewOptions.dropPagingCap){this.$primaryPaging.addClass("active");b=this.$primaryPaging.find(".dropdown-menu");b.empty();for(c=0;c<a;c++)e=c+1,b.append('<li data-value="'+e+'"><a href="#">'+e+"</a></li>");this.$primaryPaging.find("input.form-control").val(h)}else this.$secondaryPaging.addClass("active"),this.$secondaryPaging.val(h);this.lastPageInput=this.currentPage+1+"";this.$pages.html(""+a);this.currentPage+1<
a?(this.$nextBtn.removeAttr("disabled"),this.$nextBtn.removeClass("page-end")):(this.$nextBtn.attr("disabled","disabled"),this.$nextBtn.addClass("page-end"));0<=this.currentPage-1?(this.$prevBtn.removeAttr("disabled"),this.$prevBtn.removeClass("page-end")):(this.$prevBtn.attr("disabled","disabled"),this.$prevBtn.addClass("page-end"));0!==this.pageIncrement&&(0<this.pageIncrement?this.$nextBtn.is(":disabled")?this.$prevBtn.focus():this.$nextBtn.focus():this.$prevBtn.is(":disabled")?this.$nextBtn.focus():
this.$prevBtn.focus())},previous:function(){this.$nextBtn.attr("disabled","disabled");this.$prevBtn.attr("disabled","disabled");this.pageIncrement=-1;this.$element.trigger("previousClicked.fu.repeater");this.render({pageIncrement:this.pageIncrement})},render:function(a){var d=this,c=!1,e=b.fn.repeater.viewTypes[this.viewType]||{},h,f;a=a||{};this.disable();a.changeView&&this.currentView!==a.changeView&&(f=this.currentView,this.currentView=a.changeView,this.viewType=this.currentView.split(".")[0],
this.setViewOptions(this.currentView),this.$element.attr("data-currentview",this.currentView),this.$element.attr("data-viewtype",this.viewType),c=!0,a.viewChanged=c,this.$element.trigger("viewChanged.fu.repeater",this.currentView),this.infiniteScrollingEnabled&&d.infiniteScrolling(!1),e=b.fn.repeater.viewTypes[this.viewType]||{},e.selected&&e.selected.call(this,{prevView:f}));this.syncViewButtonState();a.preserve=void 0!==a.preserve?a.preserve:!c;this.clear(a);(!this.infiniteScrollingEnabled||this.infiniteScrollingEnabled&&
c)&&this.$loader.show().loader("play");h=this.getDataOptions(a);this.viewOptions.dataSource(h,function(b){b=b||{};d.infiniteScrollingEnabled?d.infiniteScrollingCallback({}):(d.itemization(b),d.pagination(b));d.runRenderer(e,b,function(){d.infiniteScrollingEnabled&&((c||a.clearInfinite)&&d.initInfiniteScrolling(),d.infiniteScrollPaging(b,a));d.$loader.hide().loader("pause");d.enable();d.$search.trigger("rendered.fu.repeater");d.$element.trigger("rendered.fu.repeater",{data:b,options:h,renderOptions:a});
d.$element.trigger("loaded.fu.repeater",h)})})},resize:function(){var a,d,c=-1===this.viewOptions.staticHeight?this.$element.attr("data-staticheight"):this.viewOptions.staticHeight,e={};this.viewType&&(e=b.fn.repeater.viewTypes[this.viewType]||{});if(void 0!==c&&!1!==c&&"false"!==c){this.$canvas.addClass("scrolling");a=this.$viewport.css("margin-bottom");d=this.$viewport.css("margin-top");var c="true"===c||!0===c?this.$element.height():parseInt(c,10),h=this.$element.find(".repeater-header").outerHeight(),
f=this.$element.find(".repeater-footer").outerHeight();a="auto"===a?0:parseInt(a,10);d="auto"===d?0:parseInt(d,10);this.$viewport.outerHeight(c-h-f-a-d)}else this.$canvas.removeClass("scrolling");e.resize&&e.resize.call(this,{height:this.$element.outerHeight(),width:this.$element.outerWidth()})},runRenderer:function(a,d,c){function e(a,c){var e;c&&(e=c.action?c.action:"append","none"!==e&&void 0!==c.item&&(a=void 0!==c.container?b(c.container):a,a[e](c.item)))}var h,f,l,p,g;if(a.render)a.render.call(this,
{container:this.$canvas,data:d},function(){c()});else{a.before&&(p=a.before.call(this,{container:this.$canvas,data:d}),e(this.$canvas,p));h=this.$canvas.find('[data-container="true"]:last');h=0<h.length?h:this.$canvas;if(a.renderItem){p=a.repeat||"data.items";p=p.split(".");"data"===p[0]||"this"===p[0]?(g="this"===p[0]?this:d,p.shift()):(p=[],g=[],window.console&&window.console.warn&&window.console.warn('WARNING: Repeater plugin "repeat" value must start with either "data" or "this"'));f=0;for(l=
p.length;f<l;f++)if(void 0!==g[p[f]])g=g[p[f]];else{g=[];window.console&&window.console.warn&&window.console.warn("WARNING: Repeater unable to find property to iterate renderItem on.");break}f=0;for(l=g.length;f<l;f++)p=a.renderItem.call(this,{container:h,data:d,index:f,subset:g}),e(h,p)}a.after&&(p=a.after.call(this,{container:this.$canvas,data:d}),e(this.$canvas,p));c()}},setViewOptions:function(a){var d=a.split(".")[1];this.viewOptions=b.extend({},this.options,this.options.views?this.options.views[d]||
this.options.views[a]||{}:{})},viewChanged:function(a){a=b(a.target);var d=a.val();this.syncingViewButtonState||(this.isDisabled||a.parents("label:first").hasClass("disabled")?this.syncViewButtonState():this.render({changeView:d,pageIncrement:null}))},syncViewButtonState:function(){var a=this.$views.find('input[value="'+this.currentView+'"]');this.syncingViewButtonState=!0;this.$views.find("input").prop("checked",!1);this.$views.find("label.active").removeClass("active");0<a.length&&(a.prop("checked",
!0),a.parents("label:first").addClass("active"));this.syncingViewButtonState=!1}};b.fn.repeater=function(a){var d=Array.prototype.slice.call(arguments,1),c,e=this.each(function(){var e=b(this),f=e.data("fu.repeater"),l="object"===typeof a&&a;f||e.data("fu.repeater",f=new g(this,l));"string"===typeof a&&(c=f[a].apply(f,d))});return void 0===c?e:c};b.fn.repeater.defaults={dataSource:function(a,b){b({count:0,end:0,items:[],page:0,pages:1,start:0})},defaultView:-1,dropPagingCap:10,staticHeight:-1,views:null,
searchOnKeyPress:!1,allowCancel:!0};b.fn.repeater.viewTypes={};b.fn.repeater.Constructor=g;b.fn.repeater.noConflict=function(){b.fn.repeater=k;return this}})(n);(function(b){function k(a,b){if(!b)return!1;if(!a||b.length!==a.length)return!0;for(var c=0;c<b.length;c++)if(a[c])for(var e in b[c]){if(a[c][e]!==b[c][e])return!0}else return!0;return!1}function g(a,c,e,d,f){var h=d[f].className,g=c[e][d[f].property],q=b("<td></td>"),k=d[f]._auto_width,r=d[f].property;!1!==this.viewOptions.list_actions&&
"@_ACTIONS_@"===r&&(g='<div class="repeater-list-actions-placeholder" style="width: '+this.list_actions_width+'px"></div>');g=void 0!==g?g:"";q.addClass(void 0!==h?h:"").append(g);void 0!==k&&q.outerWidth(k);a.append(q);"multi"===this.viewOptions.list_selectable&&"@_CHECKBOX_@"===d[f].property&&q.html('<label data-row="'+e+'" class="checkbox-custom checkbox-inline body-checkbox repeater-select-checkbox"><input class="sr-only" type="checkbox"></label>');"@_CHECKBOX_@"!==d[f].property&&"@_ACTIONS_@"!==
d[f].property&&this.viewOptions.list_columnRendered&&this.viewOptions.list_columnRendered({container:a,columnAttr:d[f].property,item:q,rowData:c[e]},function(){})}function a(a,c,e){var d=b('<div class="repeater-list-heading"><span class="glyphicon rlc"></span></div>'),f=(this.$element.attr("id")+"_"||"")+"checkall",h='<div class="repeater-list-heading header-checkbox"><div class="checkbox checkbox-inline"><input type="checkbox" id="'+f+'"><label for="'+f+'"></label></div></div>',f=b("<th></th>"),
g=this,q,k,r,v;d.data("fu_item_index",e);d.prepend(c[e].label);f.html(d.html()).find("[id]").removeAttr("id");"@_CHECKBOX_@"!==c[e].property?f.append(d):f.append(h);q=f.add(d);r=d.find(".glyphicon.rlc:first");v=r.add(f.find(".glyphicon.rlc:first"));this.viewOptions.list_actions&&"@_ACTIONS_@"===c[e].property&&(h=this.list_actions_width,f.css("width",h),d.css("width",h));h=c[e].className;void 0!==h&&q.addClass(h);if(k=c[e].sortable)q.addClass("sortable"),d.on("click.fu.repeaterList",function(){g.isDisabled||
(g.list_sortProperty="string"===typeof k?k:c[e].property,d.hasClass("sorted")?r.hasClass("glyphicon-chevron-up")?(v.removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"),g.list_sortDirection="desc"):g.viewOptions.list_sortClearing?(q.removeClass("sorted"),v.removeClass("glyphicon-chevron-down"),g.list_sortDirection=null,g.list_sortProperty=null):(v.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"),g.list_sortDirection="asc"):(a.find("th, .repeater-list-heading").removeClass("sorted"),
v.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"),g.list_sortDirection="asc",q.addClass("sorted")),g.render({clearInfinite:!0,pageIncrement:null}))});if("asc"===c[e].sortDirection||"desc"===c[e].sortDirection)a.find("th, .repeater-list-heading").removeClass("sorted"),q.addClass("sortable sorted"),"asc"===c[e].sortDirection?(v.addClass("glyphicon-chevron-up"),this.list_sortDirection="asc"):(v.addClass("glyphicon-chevron-down"),this.list_sortDirection="desc"),this.list_sortProperty=
"string"===typeof k?k:c[e].property;a.append(f)}function d(a,c,e){var d=b("<tr></tr>"),h=this,u,k,q="multi"===this.viewOptions.list_selectable,n=this.viewOptions.list_actions;this.viewOptions.list_selectable&&(d.data("item_data",c[e]),"action"!==this.viewOptions.list_selectable&&(d.addClass("selectable"),d.attr("tabindex",0),d.on("click.fu.repeaterList",function(){if(!h.isDisabled){var a=b(this),c=b(this).index(),c=c+1,e=h.$element.find(".frozen-column-wrapper tr:nth-child("+c+")"),d=h.$element.find(".actions-column-wrapper tr:nth-child("+
c+")"),c=h.$element.find(".frozen-column-wrapper tr:nth-child("+c+") .checkbox-inline");a.is(".selected")?(a.removeClass("selected"),q?(c.click(),e.removeClass("selected"),n&&d.removeClass("selected")):a.find(".repeater-list-check").remove(),h.$element.trigger("deselected.fu.repeaterList",a)):(q?(c.click(),a.addClass("selected"),e.addClass("selected"),n&&d.addClass("selected")):(h.$canvas.find(".repeater-list-check").remove(),h.$canvas.find(".repeater-list tbody tr.selected").each(function(){b(this).removeClass("selected");
h.$element.trigger("deselected.fu.repeaterList",b(this))}),a.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'),a.addClass("selected"),e.addClass("selected")),h.$element.trigger("selected.fu.repeaterList",a));f.call(h)}}),d.keyup(function(a){13===a.keyCode&&d.trigger("click.fu.repeaterList")})));this.viewOptions.list_actions&&!this.viewOptions.list_selectable&&d.data("item_data",c[e]);a.append(d);u=0;for(k=this.list_columns.length;u<k;u++)g.call(this,
d,c,e,this.list_columns,u);this.viewOptions.list_rowRendered&&this.viewOptions.list_rowRendered({container:a,item:d,rowData:c[e]},function(){})}function c(a,c){var e=a.find("tbody");1>e.length&&(e=b('<tbody data-container="true"></tbody>'),a.append(e));"string"===typeof c.error&&0<c.error.length?(a=b('<tr class="empty text-danger"><td colspan="'+this.list_columns.length+'"></td></tr>'),a.find("td").append(c.error),e.append(a)):c.items&&1>c.items.length&&(a=b('<tr class="empty"><td colspan="'+this.list_columns.length+
'"></td></tr>'),a.find("td").append(this.viewOptions.list_noItemsHTML),e.append(a))}function e(c,e){e=e.columns||[];var d=c.find("thead"),f,g,u;if(this.list_firstRender||k(this.list_columns,e)||0===d.length){d.remove();"multi"!==this.viewOptions.list_selectable||this.list_noItems||e.splice(0,0,{label:"c",property:"@_CHECKBOX_@",sortable:!1});this.list_columns=e;this.list_firstRender=!1;this.$loader.removeClass("noHeader");this.viewOptions.list_actions&&e.push({label:this.viewOptions.list_actions.label||
'<span class="actions-hidden">a</span>',property:"@_ACTIONS_@",sortable:!1,width:this.list_actions_width});d=b('<thead data-preserve="deep"><tr></tr></thead>');u=d.find("tr");f=0;for(g=e.length;f<g;f++)a.call(this,u,e,f);c.prepend(d);"multi"!==this.viewOptions.list_selectable||this.list_noItems||(c=this.$element.find(".repeater-list-wrapper .header-checkbox").outerWidth(),b.grep(e,function(a){return"@_CHECKBOX_@"===a.property})[0].width=c);h.call(this,u)}}function h(a){var c=[],e=this,d,f,h;if(this.viewOptions.list_columnSizing&&
(h=d=0,a.find("th").each(function(){var a=b(this),f;void 0!==e.list_columns[d].width?(f=e.list_columns[d].width,a.outerWidth(f),h+=a.outerWidth(),e.list_columns[d]._auto_width=f):(f=a.find(".repeater-list-heading").outerWidth(),c.push({col:a,index:d,minWidth:f}));d++}),a=c.length,0<a))for(f=this.$canvas.find(".repeater-list-wrapper").outerWidth(),f=Math.floor((f-h)/a),d=0;d<a;d++)c[d].minWidth>f&&(f=c[d].minWidth),c[d].col.outerWidth(f),this.list_columns[c[d].index]._auto_width=f}function f(){var a=
".repeater-list-wrapper > table .selected",b=this.$element.find(".table-actions");"action"===this.viewOptions.list_selectable&&(a=".repeater-list-wrapper > table tr");0<this.$canvas.find(a).length?b.find("thead .btn").removeAttr("disabled"):b.find("thead .btn").attr("disabled","disabled")}b.fn.repeater&&(b.fn.repeater.Constructor.prototype.list_clearSelectedItems=function(){this.$canvas.find(".repeater-list-check").remove();this.$canvas.find(".repeater-list table tbody tr.selected").removeClass("selected")},
b.fn.repeater.Constructor.prototype.list_highlightColumn=function(a,c){var e=this.$canvas.find(".repeater-list-wrapper > table tbody");if(this.viewOptions.list_highlightSortedColumn||c)e.find("td.sorted").removeClass("sorted"),e.find("tr").each(function(){b(this).find("td:nth-child("+(a+1)+")").filter(function(){return!b(this).parent().hasClass("empty")}).addClass("sorted")})},b.fn.repeater.Constructor.prototype.list_getSelectedItems=function(){var a=[];this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr.selected").each(function(){var c=
b(this);a.push({data:c.data("item_data"),element:c})});return a},b.fn.repeater.Constructor.prototype.getValue=b.fn.repeater.Constructor.prototype.list_getSelectedItems,b.fn.repeater.Constructor.prototype.list_positionHeadings=function(){var a=this.$element.find(".repeater-list-wrapper"),c=a.offset().left;0<a.scrollLeft()?a.find(".repeater-list-heading").each(function(){var a=b(this),e=a.parents("th:first").offset().left-c+"px";a.addClass("shifted").css("left",e)}):a.find(".repeater-list-heading").each(function(){b(this).removeClass("shifted").css("left",
"")})},b.fn.repeater.Constructor.prototype.list_setSelectedItems=function(a,c){function e(c){n=b(this);g=n.data("item_data")||{};g[a[k].property]===a[k].value&&d(n,a[k].selected,c)}function d(a,b,e){if(void 0!==b?b:1){if(c||"multi"===f||h.list_clearSelectedItems(),!a.hasClass("selected")){a.addClass("selected");if(h.viewOptions.list_frozenColumns||"multi"===h.viewOptions.list_selectable)b=h.$element.find(".frozen-column-wrapper tr:nth-child("+(e+1)+")"),b.addClass("selected"),b.find(".repeater-select-checkbox").addClass("checked");
h.viewOptions.list_actions&&h.$element.find(".actions-column-wrapper tr:nth-child("+(e+1)+")").addClass("selected");a.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>')}}else h.viewOptions.list_frozenColumns&&(b=h.$element.find(".frozen-column-wrapper tr:nth-child("+(e+1)+")"),b.addClass("selected"),b.find(".repeater-select-checkbox").removeClass("checked")),h.viewOptions.list_actions&&h.$element.find(".actions-column-wrapper tr:nth-child("+
(e+1)+")").removeClass("selected"),a.find(".repeater-list-check").remove(),a.removeClass("selected")}var f=this.viewOptions.list_selectable,h=this,g,k,n,r;b.isArray(a)||(a=[a]);r=!0===c||"multi"===f?a.length:f?0<a.length?1:0:0;for(k=0;k<r;k++)void 0!==a[k].index?(n=this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr:nth-child("+(a[k].index+1)+")"),0<n.length&&d(n,a[k].selected,a[k].index)):void 0!==a[k].property&&void 0!==a[k].value&&this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr").each(e)},
b.fn.repeater.Constructor.prototype.list_sizeHeadings=function(){this.$element.find(".repeater-list table").find("thead th").each(function(){var a=b(this),c=a.find(".repeater-list-heading");c.css({height:a.outerHeight()});c.outerWidth(c.data("forced-width")||a.outerWidth())})},b.fn.repeater.Constructor.prototype.list_setFrozenColumns=function(){var a=this.$canvas.find(".table-frozen"),c=this.$element.find(".repeater-canvas"),e=this.$element.find(".repeater-list .repeater-list-wrapper > table"),d=
this.$element.find(".repeater-list"),f=this.viewOptions.list_frozenColumns,h=this;"multi"===this.viewOptions.list_selectable&&(f+=1,c.addClass("multi-select-enabled"));1>a.length&&(a=b('<div class="frozen-column-wrapper"></div>').insertBefore(e),e=e.clone().addClass("table-frozen"),e.find("th:not(:lt("+f+"))").remove(),e.find("td:not(:nth-child(n+0):nth-child(-n+"+f+"))").remove(),f=e.clone().removeClass("table-frozen"),f.find("tbody").remove(),f=b('<div class="frozen-thead-wrapper"></div>').append(f),
c=f.find('th input[type="checkbox"]'),c.attr("id",c.attr("id")+"_cloned"),c=f.find("th label"),c.attr("for",c.attr("for")+"_cloned"),a.append(e),d.append(f),this.$canvas.addClass("frozen-enabled"));this.list_sizeFrozenColumns();b(".frozen-thead-wrapper .repeater-list-heading").on("click",function(){var a=b(this).parent("th").index();h.$element.find(".repeater-list-wrapper > table thead th:nth-child("+(a+1)+") .repeater-list-heading")[0].click()})},b.fn.repeater.Constructor.prototype.list_positionColumns=
function(){var a=this.$element.find(".repeater-canvas"),b=a.scrollTop(),c=a.scrollLeft(),e=this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable,d=this.viewOptions.list_actions,f=this.$element.find(".repeater-canvas").outerWidth(),h=this.$element.find(".repeater-list .repeater-list-wrapper > table").outerWidth(),g=this.$element.find(".table-actions")?this.$element.find(".table-actions").outerWidth():0,f=h-(f-g)>=c;0<b?a.find(".repeater-list-heading").css("top",b):a.find(".repeater-list-heading").css("top",
"0");0<c?(e&&(a.find(".frozen-thead-wrapper").css("left",c),a.find(".frozen-column-wrapper").css("left",c)),d&&f&&(a.find(".actions-thead-wrapper").css("right",-c),a.find(".actions-column-wrapper").css("right",-c))):(e&&(a.find(".frozen-thead-wrapper").css("left","0"),a.find(".frozen-column-wrapper").css("left","0")),d&&(a.find(".actions-thead-wrapper").css("right","0"),a.find(".actions-column-wrapper").css("right","0")))},b.fn.repeater.Constructor.prototype.list_createItemActions=function(){var a=
"",c=this,e,d,f=this.$element.find(".repeater-list .repeater-list-wrapper > table"),h=this.$canvas.find(".table-actions");e=0;for(d=this.viewOptions.list_actions.items.length;e<d;e++)var g=this.viewOptions.list_actions.items[e],a=a+('<li><a href="#" data-action="'+g.name+'" class="action-item"> '+g.html+"</a></li>");var k='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button" data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+
a+"</ul></div>";1>h.length&&(a=b('<div class="actions-column-wrapper" style="width: '+this.list_actions_width+'px"></div>').insertBefore(f),f=f.clone().addClass("table-actions"),f.find("th:not(:last-child)").remove(),f.find("tr td:not(:last-child)").remove(),"multi"===this.viewOptions.list_selectable||"action"===this.viewOptions.list_selectable?(f.find("thead tr").html('<th><div class="repeater-list-heading">'+k+"</div></th>"),"action"!==this.viewOptions.list_selectable&&f.find("thead .btn").attr("disabled",
"disabled")):(e=this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>',f.find("thead tr").addClass("empty-heading").html("<th>"+e+'<div class="repeater-list-heading">'+e+"</div></th>")),f.find("td").each(function(a){b(this).html(k);b(this).find("a").attr("data-row",parseInt([a])+1)}),a.append(f),this.$canvas.addClass("actions-enabled"));this.list_sizeActionsTable();this.$element.find(".table-actions tbody .action-item").on("click",function(a){if(!c.isDisabled){var e=b(this).data("action"),
d=b(this).data("row");c.list_getActionItems({actionName:e,rows:[d]},a)}});this.$element.find(".table-actions thead .action-item").on("click",function(a){if(!c.isDisabled){var e={actionName:b(this).data("action"),rows:[]},d=".repeater-list-wrapper > table .selected";"action"===c.viewOptions.list_selectable&&(d=".repeater-list-wrapper > table tr");c.$element.find(d).each(function(){var a=b(this).index();e.rows.push(a+1)});c.list_getActionItems(e,a)}})},b.fn.repeater.Constructor.prototype.list_getActionItems=
function(a,c){var e,d=[],f=b.grep(this.viewOptions.list_actions.items,function(b){return b.name===a.actionName})[0];for(e=0;e<a.rows.length;e++){var h=this.$canvas.find(".repeater-list-wrapper > table tbody tr:nth-child("+a.rows[e]+")");d.push({item:h,rowData:h.data("item_data")})}1===d.length&&(d=d[0]);f.clickAction&&f.clickAction(d,function(){},c)},b.fn.repeater.Constructor.prototype.list_sizeActionsTable=function(){var a=this.$element.find(".repeater-list table.table-actions"),c=a.find("thead tr th"),
e=this.$element.find(".repeater-list-wrapper > table");c.outerHeight(e.find("thead tr th").outerHeight());c.find(".repeater-list-heading").outerHeight(c.outerHeight());a.find("tbody tr td:first-child").each(function(a,c){b(this).outerHeight(e.find("tbody tr:eq("+a+") td").outerHeight())})},b.fn.repeater.Constructor.prototype.list_sizeFrozenColumns=function(){var a=this.$element.find(".repeater-list .repeater-list-wrapper > table");this.$element.find(".repeater-list table.table-frozen tr").each(function(c){b(this).height(a.find("tr:eq("+
c+")").height())});var c=a.find("td:eq(0)").outerWidth();this.$element.find(".frozen-column-wrapper, .frozen-thead-wrapper").width(c)},b.fn.repeater.Constructor.prototype.list_frozenOptionsInitialize=function(){function a(b){d.list_revertingCheckbox=!0;b.checkbox("toggle");delete d.list_revertingCheckbox}var c=this.$element.find(".frozen-column-wrapper .checkbox-inline"),e=this.$element.find(".repeater-list table"),d=this;this.$element.find("tr.selectable").on("mouseover mouseleave",function(a){var c=
b(this).index(),c=c+1;"mouseover"===a.type?e.find("tbody tr:nth-child("+c+")").addClass("hovered"):e.find("tbody tr:nth-child("+c+")").removeClass("hovered")});c.checkbox();var f=this.$element.find(".table-frozen tbody .checkbox-inline"),h=this.$element.find(".frozen-thead-wrapper thead .checkbox-inline input");f.on("change",function(c){c.preventDefault();d.list_revertingCheckbox||(d.isDisabled?a(b(c.currentTarget)):(c=b(this).attr("data-row"),c=parseInt(c)+1,d.$element.find(".repeater-list-wrapper > table tbody tr:nth-child("+
c+")").click(),c=d.$element.find(".table-frozen tbody .checkbox-inline.checked").length,0===c?(h.prop("checked",!1),h.prop("indeterminate",!1)):c===f.length?(h.prop("checked",!0),h.prop("indeterminate",!1)):(h.prop("checked",!1),h.prop("indeterminate",!0))))});h.on("change",function(e){d.list_revertingCheckbox||(d.isDisabled?a(b(e.currentTarget)):b(this).is(":checked")?(d.$element.find(".repeater-list-wrapper > table tbody tr:not(.selected)").click(),d.$element.trigger("selected.fu.repeaterList",
c)):(d.$element.find(".repeater-list-wrapper > table tbody tr.selected").click(),d.$element.trigger("deselected.fu.repeaterList",c)))})},b.fn.repeater.defaults=b.extend({},b.fn.repeater.defaults,{list_columnRendered:null,list_columnSizing:!0,list_columnSyncing:!0,list_highlightSortedColumn:!0,list_infiniteScroll:!1,list_noItemsHTML:"no items found",list_selectable:!1,list_sortClearing:!1,list_rowRendered:null,list_frozenColumns:0,list_actions:!1}),b.fn.repeater.viewTypes.list={cleared:function(){this.viewOptions.list_columnSyncing&&
this.list_sizeHeadings()},dataOptions:function(a){this.list_sortDirection&&(a.sortDirection=this.list_sortDirection);this.list_sortProperty&&(a.sortProperty=this.list_sortProperty);return a},enabled:function(a){this.viewOptions.list_actions&&(a.status?(this.$canvas.find(".repeater-actions-button").removeAttr("disabled"),f.call(this)):this.$canvas.find(".repeater-actions-button").attr("disabled","disabled"))},initialize:function(a,b){this.list_sortProperty=this.list_sortDirection=null;a=window.navigator.userAgent;
var c=a.indexOf("MSIE "),e=a.indexOf("Firefox");this.list_specialBrowserClass=0<c?"ie-"+parseInt(a.substring(c+5,a.indexOf(".",c))):0<e?"firefox":"";this.list_actions_width=void 0!==this.viewOptions.list_actions.width?this.viewOptions.list_actions.width:37;this.list_noItems=!1;b()},resize:function(){h.call(this,this.$element.find(".repeater-list-wrapper > table thead tr"));this.viewOptions.list_actions&&this.list_sizeActionsTable();(this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable)&&
this.list_sizeFrozenColumns();this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},selected:function(){var a=this.viewOptions.list_infiniteScroll;this.list_firstRender=!0;this.$loader.addClass("noHeader");a&&(a="object"===typeof a?a:{},this.infiniteScrolling(!0,a))},before:function(a){var d=a.container.find(".repeater-list"),f=this;this.list_noItems=0<a.data.count?!1:!0;if(1>d.length){d=b('<div class="repeater-list '+this.list_specialBrowserClass+'" data-preserve="shallow"><div class="repeater-list-wrapper" data-infinite="true" data-preserve="shallow"><table aria-readonly="true" class="table" data-preserve="shallow" role="grid"></table></div></div>');
d.find(".repeater-list-wrapper").on("scroll.fu.repeaterList",function(){f.viewOptions.list_columnSyncing&&f.list_positionHeadings()});if(f.viewOptions.list_frozenColumns||f.viewOptions.list_actions||"multi"===f.viewOptions.list_selectable)a.container.on("scroll.fu.repeaterList",function(){f.list_positionColumns()});a.container.append(d)}a.container.removeClass("actions-enabled actions-enabled multi-select-enabled");d=d.find("table");e.call(this,d,a.data);c.call(this,d,a.data);return!1},renderItem:function(a){d.call(this,
a.container,a.subset,a.index);return!1},after:function(){var a;!this.viewOptions.list_frozenColumns&&"multi"!==this.viewOptions.list_selectable||this.list_noItems||this.list_setFrozenColumns();this.viewOptions.list_actions&&!this.list_noItems&&(this.list_createItemActions(),this.list_sizeActionsTable());!this.viewOptions.list_frozenColumns&&!this.viewOptions.list_actions&&"multi"!==this.viewOptions.list_selectable||this.list_noItems||(this.list_positionColumns(),this.list_frozenOptionsInitialize());
this.viewOptions.list_columnSyncing&&(this.list_sizeHeadings(),this.list_positionHeadings());a=this.$canvas.find(".repeater-list-wrapper > table .repeater-list-heading.sorted");0<a.length&&this.list_highlightColumn(a.data("fu_item_index"));return!1}})})(n);(function(b){function k(g,a){for(var d=!1;!d&&0<=a.search("{{");){var c,e,h;e=a.indexOf("{{");c=a.indexOf("}}",e+2);-1<e&&-1<c?(h=b.trim(a.substring(e+2,c)),h=void 0!==g[h]?g[h]:"",a=a.substring(0,e)+h+a.substring(c+2)):d=!0}return a}b.fn.repeater&&
(b.fn.repeater.Constructor.prototype.thumbnail_clearSelectedItems=function(){this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").removeClass("selected")},b.fn.repeater.Constructor.prototype.thumbnail_getSelectedItems=function(){var g=[];this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){g.push(b(this))});return g},b.fn.repeater.Constructor.prototype.thumbnail_setSelectedItems=function(g,a){function d(){if(n===g[l].index)return k=b(this),!1;n++}function c(){k=
b(this);k.is(g[l].selector)&&e(k,g[l].selected)}function e(b,c){(void 0!==c?c:1)?(a||"multi"===h||f.thumbnail_clearSelectedItems(),b.addClass("selected")):b.removeClass("selected")}var h=this.viewOptions.thumbnail_selectable,f=this,l,k,m,n;b.isArray(g)||(g=[g]);m=!0===a||"multi"===h?g.length:h?0<g.length?1:0:0;for(l=0;l<m;l++)void 0!==g[l].index?(k=b(),n=0,this.$canvas.find(".repeater-thumbnail-cont .selectable").each(d),0<k.length&&e(k,g[l].selected)):g[l].selector&&this.$canvas.find(".repeater-thumbnail-cont .selectable").each(c)},
b.fn.repeater.defaults=b.extend({},b.fn.repeater.defaults,{thumbnail_alignment:"left",thumbnail_infiniteScroll:!1,thumbnail_itemRendered:null,thumbnail_noItemsHTML:"no items found",thumbnail_selectable:!1,thumbnail_template:'<div class="thumbnail repeater-thumbnail"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'}),b.fn.repeater.viewTypes.thumbnail={selected:function(){var b=this.viewOptions.thumbnail_infiniteScroll;b&&(b="object"===typeof b?b:{},this.infiniteScrolling(!0,b))},
before:function(g){var a=this.viewOptions.thumbnail_alignment,d=this.$canvas.find(".repeater-thumbnail-cont"),c=g.data;g={};var e;1>d.length?(d=b('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),a&&"none"!==a?(e={center:1,justify:1,left:1,right:1},a=e[a]?a:"justify",d.addClass("align-"+a),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,g.item=d):g.action="none";c.items&&1>c.items.length?(a=b('<div class="empty"></div>'),
a.append(this.viewOptions.thumbnail_noItemsHTML),d.append(a)):d.find(".empty:first").remove();return g},renderItem:function(g){var a=this.viewOptions.thumbnail_selectable,d=this,c=b(k(g.subset[g.index],this.viewOptions.thumbnail_template));c.data("item_data",g.data.items[g.index]);a&&(c.addClass("selectable"),c.on("click",function(){d.isDisabled||(c.hasClass("selected")?(c.removeClass("selected"),d.$element.trigger("deselected.fu.repeaterThumbnail",c)):("multi"!==a&&d.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){var a=
b(this);a.removeClass("selected");d.$element.trigger("deselected.fu.repeaterThumbnail",a)}),c.addClass("selected"),d.$element.trigger("selected.fu.repeaterThumbnail",c)))}));g.container.append(c);this.thumbnail_injectSpacers&&c.after('<span class="spacer">&nbsp;</span>');this.viewOptions.thumbnail_itemRendered&&this.viewOptions.thumbnail_itemRendered({container:g.container,item:c,itemData:g.subset[g.index]},function(){});return!1}})})(n);(function(b){var k=b.fn.scheduler,g=function(a,e){var d=this;
this.$element=b(a);this.options=b.extend({},b.fn.scheduler.defaults,e);this.$startDate=this.$element.find(".start-datetime .start-date");this.$startTime=this.$element.find(".start-datetime .start-time");this.$timeZone=this.$element.find(".timezone-container .timezone");this.$repeatIntervalPanel=this.$element.find(".repeat-every-panel");this.$repeatIntervalSelect=this.$element.find(".repeat-options");this.$repeatIntervalSpinbox=this.$element.find(".repeat-every");this.$repeatIntervalTxt=this.$element.find(".repeat-every-text");
this.$end=this.$element.find(".repeat-end");this.$endSelect=this.$end.find(".end-options");this.$endAfter=this.$end.find(".end-after");this.$endDate=this.$end.find(".end-on-date");this.$recurrencePanels=this.$element.find(".repeat-panel");this.$repeatIntervalSelect.selectlist();this.$element.find(".selectlist").selectlist();this.$startDate.datepicker(this.options.startDateOptions);this.$startDate.on("change changed.fu.datepicker dateClicked.fu.datepicker",b.proxy("function"===typeof this.options.startDateChanged?
this.options.startDateChanged:this._guessEndDate,this));this.$startTime.combobox();""===this.$startTime.find("input").val()&&this.$startTime.combobox("selectByIndex",0);"0"===this.$repeatIntervalSpinbox.find("input").val()?this.$repeatIntervalSpinbox.spinbox({value:1,min:1,limitToStep:!0}):this.$repeatIntervalSpinbox.spinbox({min:1,limitToStep:!0});this.$endAfter.spinbox({value:1,min:1,limitToStep:!0});this.$endDate.datepicker(this.options.endDateOptions);this.$element.find(".radio-custom").radio();
this.$repeatIntervalSelect.on("changed.fu.selectlist",b.proxy(this.repeatIntervalSelectChanged,this));this.$endSelect.on("changed.fu.selectlist",b.proxy(this.endSelectChanged,this));this.$element.find(".repeat-days-of-the-week .btn-group .btn").on("change.fu.scheduler",function(a,b){d.changed(a,b,!0)});this.$element.find(".combobox").on("changed.fu.combobox",b.proxy(this.changed,this));this.$element.find(".datepicker").on("changed.fu.datepicker",b.proxy(this.changed,this));this.$element.find(".datepicker").on("dateClicked.fu.datepicker",
b.proxy(this.changed,this));this.$element.find(".selectlist").on("changed.fu.selectlist",b.proxy(this.changed,this));this.$element.find(".spinbox").on("changed.fu.spinbox",b.proxy(this.changed,this));this.$element.find(".repeat-monthly .radio-custom, .repeat-yearly .radio-custom").on("change.fu.scheduler",b.proxy(this.changed,this))},a=function(a,b){var d,f;d=""+a.getFullYear();d+=b;f=a.getMonth()+1;d=d+(10>f?"0"+f:f)+b;f=a.getDate();return d+(10>f?"0"+f:f)},d={secondly:1E3,minutely:6E4,hourly:36E5,
daily:864E5,weekly:6048E5,monthly:3024E6,yearly:314496E5};g.prototype={constructor:g,destroy:function(){var a;this.$element.find("input").each(function(){b(this).attr("value",b(this).val())});this.$element.find(".datepicker .calendar").empty();a=this.$element[0].outerHTML;this.$element.find(".combobox").combobox("destroy");this.$element.find(".datepicker").datepicker("destroy");this.$element.find(".selectlist").selectlist("destroy");this.$element.find(".spinbox").spinbox("destroy");this.$element.find(".radio-custom").radio("destroy");
this.$element.remove();return a},changed:function(a,e,d){d||a.stopPropagation();this.$element.trigger("changed.fu.scheduler",{data:void 0!==e?e:b(a.currentTarget).data(),originalEvent:a,value:this.getValue()})},disable:function(){this.toggleState("disable")},enable:function(){this.toggleState("enable")},setUtcTime:function(a,b,d){if(moment)return moment(a+"T"+b,"YYYY-MM-DDTHH:mm");a=a.split("-");b=b.split(":");b=new Date(Date.UTC(a[0],a[1]-1,a[2],b[0],b[1],b[2]?b[2]:0));"Z"===d?b.setUTCHours(b.getUTCHours()+
0):(a=RegExp("(.).*?\\d.*?(\\d)",["i"]).exec(d),null!==a&&(d=a[2],a="+"===a[1]?1:-1,b.setUTCHours(b.getUTCHours()+a*parseInt(d,10))));d=b.getTimezoneOffset();b.setMinutes(d);return b},endSelectChanged:function(a,b){b?a=b.value:(a=this.$endSelect.selectlist("selectedItem"),a=a.value);this.$endAfter.parent().addClass("hidden");this.$endAfter.parent().attr("aria-hidden","true");this.$endDate.parent().addClass("hidden");this.$endDate.parent().attr("aria-hidden","true");"after"===a?(this.$endAfter.parent().removeClass("hide hidden"),
this.$endAfter.parent().attr("aria-hidden","false")):"date"===a&&(this.$endDate.parent().removeClass("hide hidden"),this.$endDate.parent().attr("aria-hidden","false"))},_guessEndDate:function(){var a=this.$repeatIntervalSelect.selectlist("selectedItem").value,b=new Date(this.$endDate.datepicker("getDate")),h=new Date(this.$startDate.datepicker("getDate")),f=this.$repeatIntervalSpinbox.find("input").val();"none"!==a&&b<=h&&(this.$repeatIntervalSpinbox.is(":visible")||(f=1),"weekdays"===a&&(f=1,a="weekly"),
b=new Date(h.getTime()+d[a]*f),this.$endDate.datepicker("setDate",b))},getValue:function(){var c=this.$repeatIntervalSpinbox.spinbox("value"),e="",d=this.$repeatIntervalSelect.selectlist("selectedItem").value,f;this.$startTime.combobox("selectedItem").value?(f=this.$startTime.combobox("selectedItem").value,f=f.toLowerCase()):f=this.$startTime.combobox("selectedItem").text.toLowerCase();var g=this.$timeZone.selectlist("selectedItem"),k,m,n,t;t=""+a(this.$startDate.datepicker("getDate"),"-");t+="T";
m=0<=f.search("am");n=0<=f.search("pm");f=b.trim(f.replace(/am/g,"").replace(/pm/g,"")).split(":");f[0]=parseInt(f[0],10);f[1]=parseInt(f[1],10);m&&11<f[0]?f[0]=0:n&&12>f[0]&&(f[0]+=12);t+=10>f[0]?"0"+f[0]:f[0];t=t+":"+(10>f[1]?"0"+f[1]:f[1]);t+="+00:00"===g.offset?"Z":g.offset;"none"===d?e="FREQ=DAILY;INTERVAL=1;COUNT=1;":"secondly"===d?e="FREQ=SECONDLY;"+("INTERVAL="+c+";"):"minutely"===d?e="FREQ=MINUTELY;"+("INTERVAL="+c+";"):"hourly"===d?e="FREQ=HOURLY;"+("INTERVAL="+c+";"):"daily"===d?e=e+"FREQ=DAILY;"+
("INTERVAL="+c+";"):"weekdays"===d?e+="FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR;INTERVAL=1;":"weekly"===d?(k=[],this.$element.find(".repeat-days-of-the-week .btn-group input:checked").each(function(){k.push(b(this).data().value)}),e=e+"FREQ=WEEKLY;"+("BYDAY="+k.join(",")+";"),e+="INTERVAL="+c+";"):"monthly"===d?(e=e+"FREQ=MONTHLY;"+("INTERVAL="+c+";"),c=this.$element.find("input[name=repeat-monthly]:checked").val(),"bymonthday"===c?(f=parseInt(this.$element.find(".repeat-monthly-date .selectlist").selectlist("selectedItem").text,
10),e+="BYMONTHDAY="+f+";"):"bysetpos"===c&&(k=this.$element.find(".repeat-monthly-day .month-days").selectlist("selectedItem").value,f=this.$element.find(".repeat-monthly-day .month-day-pos").selectlist("selectedItem").value,e=e+("BYDAY="+k+";")+("BYSETPOS="+f+";"))):"yearly"===d&&(e+="FREQ=YEARLY;",c=this.$element.find("input[name=repeat-yearly]:checked").val(),"bymonthday"===c?(c=this.$element.find(".repeat-yearly-date .year-month").selectlist("selectedItem").value,f=this.$element.find(".repeat-yearly-date .year-month-day").selectlist("selectedItem").text,
e=e+("BYMONTH="+c+";")+("BYMONTHDAY="+f+";")):"bysetpos"===c&&(k=this.$element.find(".repeat-yearly-day .year-month-days").selectlist("selectedItem").value,f=this.$element.find(".repeat-yearly-day .year-month-day-pos").selectlist("selectedItem").value,c=this.$element.find(".repeat-yearly-day .year-month").selectlist("selectedItem").value,e=e+("BYDAY="+k+";")+("BYSETPOS="+f+";"),e+="BYMONTH="+c+";"));c=this.$endSelect.selectlist("selectedItem").value;f="";"none"!==d&&("after"===c?f="COUNT="+this.$endAfter.spinbox("value")+
";":"date"===c&&(f="UNTIL="+a(this.$endDate.datepicker("getDate"),"")+";"));e+=f;e=";"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return{startDateTime:t,timeZone:g,recurrencePattern:e}},repeatIntervalSelectChanged:function(a,b){b?(a=b.value,b=b.text):(b=this.$repeatIntervalSelect.selectlist("selectedItem"),a=b.value||"",b=b.text||"");this.$repeatIntervalTxt.text(b);switch(a.toLowerCase()){case "hourly":case "daily":case "weekly":case "monthly":this.$repeatIntervalPanel.removeClass("hide hidden");
this.$repeatIntervalPanel.attr("aria-hidden","false");break;default:this.$repeatIntervalPanel.addClass("hidden"),this.$repeatIntervalPanel.attr("aria-hidden","true")}this.$recurrencePanels.addClass("hidden");this.$recurrencePanels.attr("aria-hidden","true");this.$element.find(".repeat-"+a).removeClass("hide hidden");this.$element.find(".repeat-"+a).attr("aria-hidden","false");"none"===a?(this.$end.addClass("hidden"),this.$end.attr("aria-hidden","true")):(this.$end.removeClass("hide hidden"),this.$end.attr("aria-hidden",
"false"));this._guessEndDate()},_parseAndSetRecurrencePattern:function(a,b){var d={},f,g;g=a.toUpperCase().split(";");for(f=0;f<g.length;f++)""!==g[f]&&(a=g[f].split("="),d[a[0]]=a[1]);if("DAILY"===d.FREQ)a="MO,TU,WE,TH,FR"===d.BYDAY?"weekdays":"1"===d.INTERVAL&&"1"===d.COUNT?"none":"daily";else if("SECONDLY"===d.FREQ)a="secondly";else if("MINUTELY"===d.FREQ)a="minutely";else if("HOURLY"===d.FREQ)a="hourly";else if("WEEKLY"===d.FREQ){if(a="weekly",d.BYDAY)if("MO,TU,WE,TH,FR"===d.BYDAY)a="weekdays";
else{var k=this.$element.find(".repeat-days-of-the-week .btn-group");k.find("label").removeClass("active");g=d.BYDAY.split(",");for(f=0;f<g.length;f++)k.find('input[data-value="'+g[f]+'"]').prop("checked",!0).parent().addClass("active")}}else"MONTHLY"===d.FREQ?(this.$element.find(".repeat-monthly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-monthly label.radio-custom").removeClass("checked"),d.BYMONTHDAY?(a=this.$element.find(".repeat-monthly-date"),a.find("input").addClass("checked").prop("checked",
!0),a.find("label.radio-custom").addClass("checked"),a.find(".selectlist").selectlist("selectByValue",d.BYMONTHDAY)):d.BYDAY&&(a=this.$element.find(".repeat-monthly-day"),a.find("input").addClass("checked").prop("checked",!0),a.find("label.radio-custom").addClass("checked"),d.BYSETPOS&&a.find(".month-day-pos").selectlist("selectByValue",d.BYSETPOS),a.find(".month-days").selectlist("selectByValue",d.BYDAY)),a="monthly"):"YEARLY"===d.FREQ?(this.$element.find(".repeat-yearly input").removeAttr("checked").removeClass("checked"),
this.$element.find(".repeat-yearly label.radio-custom").removeClass("checked"),d.BYMONTHDAY?(a=this.$element.find(".repeat-yearly-date"),a.find("input").addClass("checked").prop("checked",!0),a.find("label.radio-custom").addClass("checked"),d.BYMONTH&&a.find(".year-month").selectlist("selectByValue",d.BYMONTH),a.find(".year-month-day").selectlist("selectByValue",d.BYMONTHDAY)):d.BYSETPOS&&(a=this.$element.find(".repeat-yearly-day"),a.find("input").addClass("checked").prop("checked",!0),a.find("label.radio-custom").addClass("checked"),
a.find(".year-month-day-pos").selectlist("selectByValue",d.BYSETPOS),d.BYDAY&&a.find(".year-month-days").selectlist("selectByValue",d.BYDAY),d.BYMONTH&&a.find(".year-month").selectlist("selectByValue",d.BYMONTH)),a="yearly"):a="none";if(d.COUNT)this.$endAfter.spinbox("value",parseInt(d.COUNT,10)),this.$endSelect.selectlist("selectByValue","after");else if(d.UNTIL){var m;8===d.UNTIL.length&&(m=d.UNTIL.split(""),m.splice(4,0,"-"),m.splice(7,0,"-"),m=m.join(""));f=this.$timeZone.selectlist("selectedItem");
b=this.setUtcTime(m,b.time24HourFormat,"+00:00"===f.offset?"Z":f.offset);this.$endDate.datepicker("setDate",b);this.$endSelect.selectlist("selectByValue","date")}else this.$endSelect.selectlist("selectByValue","never");this.endSelectChanged();d.INTERVAL&&this.$repeatIntervalSpinbox.spinbox("value",parseInt(d.INTERVAL,10));this.$repeatIntervalSelect.selectlist("selectByValue",a);this.repeatIntervalSelectChanged()},_parseStartDateTime:function(a){var d={},g,f;d.time24HourFormat=a.split("+")[0].split("-")[0];
-1<a.search(/\+/)?d.timeZoneOffset="+"+b.trim(a.split("+")[1]):-1<a.search(/\-/)?d.timeZoneOffset="-"+b.trim(a.split("-")[1]):d.timeZoneOffset="+00:00";d.time24HourFormatSplit=d.time24HourFormat.split(":");a=parseInt(d.time24HourFormatSplit[0],10);g=d.time24HourFormatSplit[1]?parseInt(d.time24HourFormatSplit[1].split("+")[0].split("-")[0].split("Z")[0],10):0;f=12>a?"AM":"PM";0===a?a=12:12<a&&(a-=12);g=10>g?"0"+g:g;d.time12HourFormat=a+":"+g;d.time12HourFormatWithPeriod=a+":"+g+" "+f;return d},_parseTimeZone:function(a,
d){d.timeZoneQuerySelector="";a.timeZone?("string"===typeof a.timeZone?d.timeZoneQuerySelector+='li[data-name="'+a.timeZone+'"]':b.each(a.timeZone,function(a,b){d.timeZoneQuerySelector+="li[data-"+a+'="'+b+'"]'}),d.timeZoneOffset=a.timeZone.offset):a.startDateTime?(d.timeZoneOffset="+00:00"===d.timeZoneOffset?"Z":d.timeZoneOffset,d.timeZoneQuerySelector+='li[data-offset="'+d.timeZoneOffset+'"]'):d.timeZoneOffset="Z";return d.timeZoneOffset},_setTimeUI:function(a){this.$startTime.find("input").val(a);
this.$startTime.combobox("selectByText",a)},_setTimeZoneUI:function(a){this.$timeZone.selectlist("selectBySelector",a)},setValue:function(a){var b={},d,f;a.startDateTime?(d=a.startDateTime.split("T"),f=d[0],(d=d[1])?(b=this._parseStartDateTime(d),this._setTimeUI(b.time12HourFormatWithPeriod)):(b.time12HourFormat="00:00",b.time24HourFormat="00:00")):(b.time12HourFormat="00:00",b.time24HourFormat="00:00",f=this.$startDate.datepicker("getDate"),f=f.getFullYear()+"-"+f.getMonth()+"-"+f.getDate());this._parseTimeZone(a,
b);b.timeZoneQuerySelector&&this._setTimeZoneUI(b.timeZoneQuerySelector);a.recurrencePattern&&this._parseAndSetRecurrencePattern(a.recurrencePattern,b);a=this.setUtcTime(f,b.time24HourFormat,b.timeZoneOffset);this.$startDate.datepicker("setDate",a)},toggleState:function(a){this.$element.find(".combobox").combobox(a);this.$element.find(".datepicker").datepicker(a);this.$element.find(".selectlist").selectlist(a);this.$element.find(".spinbox").spinbox(a);this.$element.find(".radio-custom").radio(a);
a="disable"===a?"addClass":"removeClass";this.$element.find(".repeat-days-of-the-week .btn-group")[a]("disabled")},value:function(a){return a?this.setValue(a):this.getValue()}};b.fn.scheduler=function(a){var d=Array.prototype.slice.call(arguments,1),h,f=this.each(function(){var f=b(this),k=f.data("fu.scheduler"),m="object"===typeof a&&a;k||f.data("fu.scheduler",k=new g(this,m));"string"===typeof a&&(h=k[a].apply(k,d))});return void 0===h?f:h};b.fn.scheduler.defaults={};b.fn.scheduler.Constructor=
g;b.fn.scheduler.noConflict=function(){b.fn.scheduler=k;return this};b(document).on("mousedown.fu.scheduler.data-api","[data-initialize=scheduler]",function(a){a=b(a.target).closest(".scheduler");a.data("fu.scheduler")||a.scheduler(a.data())});b(function(){b("[data-initialize=scheduler]").each(function(){var a=b(this);a.data("scheduler")||a.scheduler(a.data())})})})(n);(function(b){var k=b.fn.picker,g=function(a,d){var g=this;this.$element=b(a);this.options=b.extend({},b.fn.picker.defaults,d);this.$accept=
this.$element.find(".picker-accept");this.$cancel=this.$element.find(".picker-cancel");this.$trigger=this.$element.find(".picker-trigger");this.$footer=this.$element.find(".picker-footer");this.$header=this.$element.find(".picker-header");this.$popup=this.$element.find(".picker-popup");this.$body=this.$element.find(".picker-body");this.clickStamp="_";this.isInput=this.$trigger.is("input");this.$trigger.on("keydown.fu.picker",b.proxy(this.keyComplete,this));this.$trigger.on("focus.fu.picker",b.proxy(function(a){("undefined"===
typeof a||b(a.target).is("input[type=text]"))&&b.proxy(this.show(),this)},this));this.$trigger.on("click.fu.picker",b.proxy(function(a){b(a.target).is("input[type=text]")?b.proxy(this.show(),this):b.proxy(this.toggle(),this)},this));this.$accept.on("click.fu.picker",b.proxy(this.complete,this,"accepted"));this.$cancel.on("click.fu.picker",function(a){a.preventDefault();g.complete("cancelled")})},a=function(a){var d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),g=b(document).scrollTop(),
f=a.$popup.offset();return f.top+a.$popup.outerHeight(!0)>d+g||f.top<g?!0:!1},d=function(a){a.$popup.css("top",a.$trigger.outerHeight(!0)+"px")};g.prototype={constructor:g,complete:function(a){var b=this.options[{accepted:"onAccept",cancelled:"onCancel",exited:"onExit"}[a]],d={contents:this.$body};b?(b(d),this.$element.trigger(a+".fu.picker",d)):(this.$element.trigger(a+".fu.picker",d),this.hide())},keyComplete:function(a){this.isInput&&13===a.keyCode?(this.complete("accepted"),this.$trigger.blur()):
27===a.keyCode&&(this.complete("exited"),this.$trigger.blur())},destroy:function(){this.$element.remove();b(document).off("click.fu.picker.externalClick."+this.clickStamp);return this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled");this.$trigger.attr("disabled","disabled")},enable:function(){this.$element.removeClass("disabled");this.$trigger.removeAttr("disabled")},toggle:function(){this.$element.hasClass("showing")?this.hide():this.show()},hide:function(){this.$element.hasClass("showing")&&
(this.$element.removeClass("showing"),b(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.picker"))},externalClickListener:function(a,b){(!0===b||this.isExternalClick(a))&&this.complete("exited")},isExternalClick:function(a){var d=this.$element.get(0),g=this.options.externalClickExceptions||[],f=b(a.target);if(a.target===d||f.parents(".picker:first").get(0)===d)return!1;a=0;for(d=g.length;a<d;a++)if(f.is(g[a])||0<f.parents(g[a]).length)return!1;return!0},
show:function(){var c;c=b(document).find(".picker.showing");if(0<c.length){if(c.data("fu.picker")&&c.data("fu.picker").options.explicit)return;c.picker("externalClickListener",{},!0)}this.$element.addClass("showing");this.$popup.css("visibility","hidden");d(this);a(this)&&(this.$popup.css("top",-this.$popup.outerHeight(!0)+"px"),a(this)&&d(this));this.$popup.css("visibility","visible");this.$element.trigger("shown.fu.picker");this.clickStamp=(new Date).getTime()+(Math.floor(100*Math.random())+1);
if(!this.options.explicit)b(document).on("click.fu.picker.externalClick."+this.clickStamp,b.proxy(this.externalClickListener,this))}};b.fn.picker=function(a){var d=Array.prototype.slice.call(arguments,1),h,f=this.each(function(){var f=b(this),k=f.data("fu.picker"),m="object"===typeof a&&a;k||f.data("fu.picker",k=new g(this,m));"string"===typeof a&&(h=k[a].apply(k,d))});return void 0===h?f:h};b.fn.picker.defaults={onAccept:void 0,onCancel:void 0,onExit:void 0,externalClickExceptions:[],explicit:!1};
b.fn.picker.Constructor=g;b.fn.picker.noConflict=function(){b.fn.picker=k;return this};b(document).on("focus.fu.picker.data-api","[data-initialize=picker]",function(a){a=b(a.target).closest(".picker");a.data("fu.picker")||a.picker(a.data())});b(function(){b("[data-initialize=picker]").each(function(){var a=b(this);a.data("fu.picker")||a.picker(a.data())})})})(n)});